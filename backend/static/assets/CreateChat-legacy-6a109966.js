/**
 * The frontend part of web-vcc
 * @copyright The vcc group
 * @license AGPL-3.0-or-later
 */
System.register(["./index-legacy-213d8ed5.js"],(function(e,a){"use strict";var s,t,l,n,r,c,i,o,d,h;return{setters:[e=>{s=e.f,t=e.c,l=e.g,n=e.a,r=e.d,c=e.j,i=e.F,o=e.b,d=e.o,h=e.r}],execute:function(){e("Component",(function(){const{values:e,names:a,parentChats:u,refresh:m}=s(),{successAlert:f,errorAlert:N}=t(),p=l(),{t:v}=n(),b=r((e=>e.addSession)),[x,y]=c(""),[g,C]=c(-1),w=i((()=>Object.keys(u).includes(String(g))||-1==g),[u,g]);return o(w?"Create Chat":"Create Session"),d("div",{className:"hero min-h-screen bg-base-200",children:d("div",{className:"hero-content flex-col lg:flex-row-reverse",children:[d("div",{className:"text-center lg:text-left",children:[d("h1",{className:"text-5xl font-bold",children:[v("Create your "),v(w?"chat":"session")]}),d("p",{className:"py-6",children:v(w?"Create a chat and talk with your friends in it. ":"Create a session and talk on a topic. ")})]}),d("div",{className:"card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:d("div",{className:"card-body",children:[d("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:v("Name")})}),d("input",{type:"text",placeholder:v("Name"),className:"input input-bordered",value:x,onInput:e=>{y(e.currentTarget.value)}})]}),d("div",{className:"form-control",children:[d("label",{className:"label",children:d("span",{className:"label-text",children:v("Parent Chat")})}),d("select",{className:"select w-full max-w-xs",value:-1==g?v("None"):`${g} ${a[e.indexOf(g)]}`,onChange:e=>{C(e.currentTarget.value==v("None")?-1:parseInt(e.currentTarget.value.split(" ")[0]))},children:[d("option",{children:v("None")}),e.map(((e,s)=>{const t=a[s];return d("option",{children:[e," ",t]},e)}))]})]}),d("div",{className:"form-control mt-6",children:d("button",{className:"btn btn-primary",onClick:async()=>{if(""!==x)if(w){const e=await h.chat.create(x,g);e?(f(v("You have created the chat successfully. ")),m(),p(`/chats/${e}`)):N("You haven't created the chat successfully. ")}else await h.session.join(x,g)?(f(v("You have created/joined the session successfully. ")),b(g,x),p(`/chats/${g}`)):N(v("Permission denied. "))},children:v("Create")})})]})})]})})}))}}}));
