/**
 * The frontend part of web-vcc
 * @copyright The vcc group
 * @license AGPL-3.0-or-later
 */
import{f as x,c as g,g as y,a as w,d as k,j as u,F as S,b as T,o as e,r as m}from"./index-057a36d6.js";function P(){const{values:c,names:r,parentChats:i,refresh:N}=x(),{successAlert:o,errorAlert:h}=g(),d=y(),{t:a}=w(),f=k(s=>s.addSession),[n,p]=u(""),[t,v]=u(-1),l=S(()=>Object.keys(i).includes(String(t))||t==-1,[i,t]);return T(l?"Create Chat":"Create Session"),e("div",{className:"hero min-h-screen bg-base-200",children:e("div",{className:"hero-content flex-col lg:flex-row-reverse",children:[e("div",{className:"text-center lg:text-left",children:[e("h1",{className:"text-5xl font-bold",children:[a("Create your "),a(l?"chat":"session")]}),e("p",{className:"py-6",children:a(l?"Create a chat and talk with your friends in it. ":"Create a session and talk on a topic. ")})]}),e("div",{className:"card flex-shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:e("div",{className:"card-body",children:[e("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:a("Name")})}),e("input",{type:"text",placeholder:a("Name"),className:"input input-bordered",value:n,onInput:s=>{p(s.currentTarget.value)}})]}),e("div",{className:"form-control",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:a("Parent Chat")})}),e("select",{className:"select w-full max-w-xs",value:t==-1?a("None"):`${t} ${r[c.indexOf(t)]}`,onChange:s=>{v(s.currentTarget.value==a("None")?-1:parseInt(s.currentTarget.value.split(" ")[0]))},children:[e("option",{children:a("None")}),c.map((s,b)=>{const C=r[b];return e("option",{children:[s," ",C]},s)})]})]}),e("div",{className:"form-control mt-6",children:e("button",{className:"btn btn-primary",onClick:async()=>{if(n!=="")if(l){const s=await m.chat.create(n,t);s?(o(a("You have created the chat successfully. ")),N(),d(`/chats/${s}`)):h("You haven't created the chat successfully. ")}else await m.session.join(n,t)?(o(a("You have created/joined the session successfully. ")),f(t,n),d(`/chats/${t}`)):h(a("Permission denied. "))},children:a("Create")})})]})})]})})}export{P as Component};
