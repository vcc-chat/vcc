/**
 * The frontend part of web-vcc
 * @copyright The vcc group
 * @license AGPL-3.0-or-later
 */
System.register(["./index-legacy-213d8ed5.js"],(function(e,a){"use strict";var t,c,n,l,r,s,i,u,o,m,h;return{setters:[e=>{t=e.J,c=e.d,n=e.f,l=e.c,r=e.j,s=e.Y,i=e.z,u=e.a,o=e.p,m=e.o,h=e.r}],execute:function(){e("Component",t((function(){const e=c((e=>e.chat)),a=c((e=>e.chatName)),{refresh:t}=n(),{successAlert:d,errorAlert:p}=l(),[b,f]=r(""),{public_:y}=s(),[N,x]=r(!1),g=i(),{t:v}=u();return o((()=>{null!=a&&f(a)}),[a]),o((()=>{x(y)}),[y]),m("div",null==e||null==a?{}:{className:"flex form-control space-y-4",children:[m("label",{className:"label",children:m("span",{className:"label-text",children:v("Chat name")})}),m("input",{type:"text",placeholder:v("Rename")??"",className:"input mr-auto",value:b,onInput:e=>{f(e.currentTarget.value)}}),m("label",{className:"label cursor-pointer mr-auto",children:[m("span",{className:"label-text mr-4",children:v("Public")}),m("input",{type:"checkbox",className:"toggle",checked:N,onClick:e=>x(e.currentTarget.checked)})]}),m("button",{className:"btn mr-auto",disabled:y==N&&b==a,onClick:()=>{b!=a&&async function(){await h.chat.rename(e,b)?d(v("Chat has renamed.")):p(v("Permission denied.")),t()}(),y!=N&&async function(){await h.chat.modifyPermission(e,"public",N)?d(v(`The chat has been ${N?"public":"private"}.`)):p(v("Permission denied.")),g.invalidateQueries(["chat-public",e])}()},children:v("Apply")})]})})))}}}));
