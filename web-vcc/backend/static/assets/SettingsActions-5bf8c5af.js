/**
 * The frontend part of web-vcc
 * @copyright The vcc group
 * @license AGPL-3.0-or-later
 */
import{J as g,d as p,f as v,c as A,j as d,Y as P,z as k,a as T,p as b,o as e,r as f}from"./index-057a36d6.js";const S=g(function(){var h;const c=p(t=>t.chat),s=p(t=>t.chatName),{refresh:y}=v(),{successAlert:r,errorAlert:o}=A(),[l,u]=d(""),{public_:i}=P(),[n,m]=d(!1),N=k(),{t:a}=T();b(()=>{s!=null&&u(s)},[s]),b(()=>{m(i)},[i]);async function C(){await f.chat.rename(c,l)?r(a("Chat has renamed.")):o(a("Permission denied.")),y()}if(c==null||s==null)return e("div",{});async function x(){await f.chat.modifyPermission(c,"public",n)?r(a(`The chat has been ${n?"public":"private"}.`)):o(a("Permission denied.")),N.invalidateQueries(["chat-public",c])}return e("div",{className:"flex form-control space-y-4",children:[e("label",{className:"label",children:e("span",{className:"label-text",children:a("Chat name")})}),e("input",{type:"text",placeholder:(h=a("Rename"))!=null?h:"",className:"input mr-auto",value:l,onInput:t=>{u(t.currentTarget.value)}}),e("label",{className:"label cursor-pointer mr-auto",children:[e("span",{className:"label-text mr-4",children:a("Public")}),e("input",{type:"checkbox",className:"toggle",checked:n,onClick:t=>m(t.currentTarget.checked)})]}),e("button",{className:"btn mr-auto",disabled:i==n&&l==s,onClick:()=>{l!=s&&C(),i!=n&&x()},children:a("Apply")})]})});export{S as Component};
