/**
 * The frontend part of web-vcc
 * @copyright The vcc group
 * @license AGPL-3.0-or-later
 */
function Rp(){import("data:text/javascript,")}function xu(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const Lu="modulepreload",ku=function(t){return"/"+t},Ai={},Ee=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=ku(a),a in Ai)return;Ai[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===a&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Lu,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((c,d)=>{l.addEventListener("load",c),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())};var ar,N,Oo,ht,Ti,Ro,Nn,Po,Ar={},Eo=[],Nu=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Kr=Array.isArray;function We(t,e){for(var r in e)t[r]=e[r];return t}function Co(t){var e=t.parentNode;e&&e.removeChild(t)}function q(t,e,r){var n,i,a,o={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?ar.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return Vt(t,o,n,i,null)}function Vt(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++Oo:i};return i==null&&N.vnode!=null&&N.vnode(a),a}function xo(){return{current:null}}function ge(t){return t.children}function Le(t,e){this.props=t,this.context=e}function Xt(t,e){if(e==null)return t.__?Xt(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Xt(t):null}function Lo(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Lo(t)}}function Dn(t){(!t.__d&&(t.__d=!0)&&ht.push(t)&&!Tr.__r++||Ti!==N.debounceRendering)&&((Ti=N.debounceRendering)||Ro)(Tr)}function Tr(){var t,e,r,n,i,a,o,s;for(ht.sort(Nn);t=ht.shift();)t.__d&&(e=ht.length,n=void 0,i=void 0,o=(a=(r=t).__v).__e,(s=r.__P)&&(n=[],(i=We({},a)).__v=a.__v+1,ri(s,a,i,r.__n,s.ownerSVGElement!==void 0,a.__h!=null?[o]:null,n,o==null?Xt(a):o,a.__h),To(n,a),a.__e!=o&&Lo(a)),ht.length>e&&ht.sort(Nn));Tr.__r=0}function ko(t,e,r,n,i,a,o,s,u,l){var c,d,h,f,p,m,g,v=n&&n.__k||Eo,y=v.length;for(r.__k=[],c=0;c<e.length;c++)if((f=r.__k[c]=(f=e[c])==null||typeof f=="boolean"||typeof f=="function"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?Vt(null,f,null,null,f):Kr(f)?Vt(ge,{children:f},null,null,null):f.__b>0?Vt(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=r,f.__b=r.__b+1,(h=v[c])===null||h&&f.key==h.key&&f.type===h.type)v[c]=void 0;else for(d=0;d<y;d++){if((h=v[d])&&f.key==h.key&&f.type===h.type){v[d]=void 0;break}h=null}ri(t,f,h=h||Ar,i,a,o,s,u,l),p=f.__e,(d=f.ref)&&h.ref!=d&&(g||(g=[]),h.ref&&g.push(h.ref,null,f),g.push(d,f.__c||p,f)),p!=null?(m==null&&(m=p),typeof f.type=="function"&&f.__k===h.__k?f.__d=u=No(f,u,t):u=Do(t,f,h,v,p,u),typeof r.type=="function"&&(r.__d=u)):u&&h.__e==u&&u.parentNode!=t&&(u=Xt(h))}for(r.__e=m,c=y;c--;)v[c]!=null&&(typeof r.type=="function"&&v[c].__e!=null&&v[c].__e==r.__d&&(r.__d=Ao(n).nextSibling),Io(v[c],v[c]));if(g)for(c=0;c<g.length;c++)Mo(g[c],g[++c],g[++c])}function No(t,e,r){for(var n,i=t.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=t,e=typeof n.type=="function"?No(n,e,r):Do(r,n,n,i,n.__e,e));return e}function Ve(t,e){return e=e||[],t==null||typeof t=="boolean"||(Kr(t)?t.some(function(r){Ve(r,e)}):e.push(t)),e}function Do(t,e,r,n,i,a){var o,s,u;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),o=null;else{for(s=a,u=0;(s=s.nextSibling)&&u<n.length;u+=1)if(s==i)break e;t.insertBefore(i,a),o=a}return o!==void 0?o:i.nextSibling}function Ao(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=Ao(r)))return n}return null}function Du(t,e,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in e||Mr(t,a,null,r[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||Mr(t,a,e[a],r[a],n)}function Mi(t,e,r){e[0]==="-"?t.setProperty(e,r==null?"":r):t[e]=r==null?"":typeof r!="number"||Nu.test(e)?r:r+"px"}function Mr(t,e,r,n,i){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Mi(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Mi(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?Fi:Ii,a):t.removeEventListener(e,a?Fi:Ii,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=r==null?"":r;break e}catch(o){}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function Ii(t){return this.l[t.type+!1](N.event?N.event(t):t)}function Fi(t){return this.l[t.type+!0](N.event?N.event(t):t)}function ri(t,e,r,n,i,a,o,s,u){var l,c,d,h,f,p,m,g,v,y,S,_,C,L,P,x=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(u=r.__h,s=e.__e=r.__e,e.__h=null,a=[s]),(l=N.__b)&&l(e);try{e:if(typeof x=="function"){if(g=e.props,v=(l=x.contextType)&&n[l.__c],y=l?v?v.props.value:l.__:n,r.__c?m=(c=e.__c=r.__c).__=c.__E:("prototype"in x&&x.prototype.render?e.__c=c=new x(g,y):(e.__c=c=new Le(g,y),c.constructor=x,c.render=Tu),v&&v.sub(c),c.props=g,c.state||(c.state={}),c.context=y,c.__n=n,d=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),x.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=We({},c.__s)),We(c.__s,x.getDerivedStateFromProps(g,c.__s))),h=c.props,f=c.state,c.__v=e,d)x.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(x.getDerivedStateFromProps==null&&g!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(g,y),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(g,c.__s,y)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(c.props=g,c.state=c.__s,c.__d=!1),c.__e=!1,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(I){I&&(I.__=e)}),S=0;S<c._sb.length;S++)c.__h.push(c._sb[S]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(g,c.__s,y),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,f,p)})}if(c.context=y,c.props=g,c.__P=t,_=N.__r,C=0,"prototype"in x&&x.prototype.render){for(c.state=c.__s,c.__d=!1,_&&_(e),l=c.render(c.props,c.state,c.context),L=0;L<c._sb.length;L++)c.__h.push(c._sb[L]);c._sb=[]}else do c.__d=!1,_&&_(e),l=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++C<25);c.state=c.__s,c.getChildContext!=null&&(n=We(We({},n),c.getChildContext())),d||c.getSnapshotBeforeUpdate==null||(p=c.getSnapshotBeforeUpdate(h,f)),ko(t,Kr(P=l!=null&&l.type===ge&&l.key==null?l.props.children:l)?P:[P],e,r,n,i,a,o,s,u),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),m&&(c.__E=c.__=null),c.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Au(r.__e,e,r,n,i,a,o,u);(l=N.diffed)&&l(e)}catch(I){e.__v=null,(u||a!=null)&&(e.__e=s,e.__h=!!u,a[a.indexOf(s)]=null),N.__e(I,e,r)}}function To(t,e){N.__c&&N.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){N.__e(n,r.__v)}})}function Au(t,e,r,n,i,a,o,s){var u,l,c,d=r.props,h=e.props,f=e.type,p=0;if(f==="svg"&&(i=!0),a!=null){for(;p<a.length;p++)if((u=a[p])&&"setAttribute"in u==!!f&&(f?u.localName===f:u.nodeType===3)){t=u,a[p]=null;break}}if(t==null){if(f===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),a=null,s=!1}if(f===null)d===h||s&&t.data===h||(t.data=h);else{if(a=a&&ar.call(t.childNodes),l=(d=r.props||Ar).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!s){if(a!=null)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(c||l)&&(c&&(l&&c.__html==l.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(Du(t,h,d,i,s),c)e.__k=[];else if(ko(t,Kr(p=e.props.children)?p:[p],e,r,n,i&&f!=="foreignObject",a,o,a?a[0]:r.__k&&Xt(r,0),s),a!=null)for(p=a.length;p--;)a[p]!=null&&Co(a[p]);s||("value"in h&&(p=h.value)!==void 0&&(p!==t.value||f==="progress"&&!p||f==="option"&&p!==d.value)&&Mr(t,"value",p,d.value,!1),"checked"in h&&(p=h.checked)!==void 0&&p!==t.checked&&Mr(t,"checked",p,d.checked,!1))}return t}function Mo(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){N.__e(n,r)}}function Io(t,e,r){var n,i;if(N.unmount&&N.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Mo(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){N.__e(a,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Io(n[i],e,r||typeof t.type!="function");r||t.__e==null||Co(t.__e),t.__=t.__e=t.__d=void 0}function Tu(t,e,r){return this.constructor(t,r)}function kt(t,e,r){var n,i,a;N.__&&N.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],ri(e,t=(!n&&r||e).__k=q(ge,null,[t]),i||Ar,Ar,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?ar.call(e.childNodes):null,a,!n&&r?r:i?i.__e:e.firstChild,n),To(a,t)}function Fo(t,e){kt(t,e,Fo)}function Mu(t,e,r){var n,i,a,o,s=We({},t.props);for(a in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)a=="key"?n=e[a]:a=="ref"?i=e[a]:s[a]=e[a]===void 0&&o!==void 0?o[a]:e[a];return arguments.length>2&&(s.children=arguments.length>3?ar.call(arguments,2):r),Vt(t.type,s,n||t.key,i||t.ref,null)}function ve(t,e){var r={__c:e="__cC"+Po++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,a;return this.getChildContext||(i=[],(a={})[e]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(s){s.__e=!0,Dn(s)})},this.sub=function(o){i.push(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),s&&s.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}ar=Eo.slice,N={__e:function(t,e,r,n){for(var i,a,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(s){t=s}throw t}},Oo=0,Le.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=We({},this.state),typeof t=="function"&&(t=t(We({},r),this.props)),t&&We(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Dn(this))},Le.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Dn(this))},Le.prototype.render=ge,ht=[],Ro=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Nn=function(t,e){return t.__v.__b-e.__v.__b},Tr.__r=0,Po=0;class Tt{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const r={listener:e};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Yt=typeof window>"u"||"Deno"in window;function Ce(){}function Iu(t,e){return typeof t=="function"?t(e):t}function An(t){return typeof t=="number"&&t>=0&&t!==1/0}function ji(t,e){return t.filter(r=>!e.includes(r))}function Fu(t,e,r){const n=t.slice(0);return n[e]=r,n}function jo(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wt(t,e,r){return Wr(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function ot(t,e,r){return Wr(t)?[{...e,queryKey:t},r]:[t||{},e]}function Ui(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(Wr(o)){if(n){if(e.queryHash!==ni(o,e.options))return!1}else if(!Ir(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||typeof i<"u"&&i!==e.state.fetchStatus||a&&!a(e))}function qi(t,e){const{exact:r,fetching:n,predicate:i,mutationKey:a}=t;if(Wr(a)){if(!e.options.mutationKey)return!1;if(r){if(pt(e.options.mutationKey)!==pt(a))return!1}else if(!Ir(e.options.mutationKey,a))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function ni(t,e){return((e==null?void 0:e.queryKeyHashFn)||pt)(t)}function pt(t){return JSON.stringify(t,(e,r)=>Tn(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ir(t,e){return Uo(t,e)}function Uo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Uo(t[r],e[r])):!1}function qo(t,e){if(t===e)return t;const r=$i(t)&&$i(e);if(r||Tn(t)&&Tn(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),a=i.length,o=r?[]:{};let s=0;for(let u=0;u<a;u++){const l=r?u:i[u];o[l]=qo(t[l],e[l]),o[l]===t[l]&&s++}return n===a&&s===n?t:o}return e}function Bi(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function $i(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tn(t){if(!Hi(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Hi(r)||!r.hasOwnProperty("isPrototypeOf"))}function Hi(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wr(t){return Array.isArray(t)}function Bo(t){return new Promise(e=>{setTimeout(e,t)})}function Ji(t){Bo(0).then(t)}function ju(){if(typeof AbortController=="function")return new AbortController}function Mn(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?qo(t,e):e}class Uu extends Tt{constructor(){super(),this.setup=e=>{if(!Yt&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Fr=new Uu,Qi=["online","offline"];class qu extends Tt{constructor(){super(),this.setup=e=>{if(!Yt&&window.addEventListener){const r=()=>e();return Qi.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{Qi.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const jr=new qu;function Bu(t){return Math.min(1e3*2**t,3e4)}function Vr(t){return(t!=null?t:"online")==="online"?jr.isOnline():!0}class $o{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Cr(t){return t instanceof $o}function Ho(t){let e=!1,r=0,n=!1,i,a,o;const s=new Promise((g,v)=>{a=g,o=v}),u=g=>{n||(f(new $o(g)),t.abort==null||t.abort())},l=()=>{e=!0},c=()=>{e=!1},d=()=>!Fr.isFocused()||t.networkMode!=="always"&&!jr.isOnline(),h=g=>{n||(n=!0,t.onSuccess==null||t.onSuccess(g),i==null||i(),a(g))},f=g=>{n||(n=!0,t.onError==null||t.onError(g),i==null||i(),o(g))},p=()=>new Promise(g=>{i=v=>{const y=n||!d();return y&&g(v),y},t.onPause==null||t.onPause()}).then(()=>{i=void 0,n||t.onContinue==null||t.onContinue()}),m=()=>{if(n)return;let g;try{g=t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var y,S;if(n)return;const _=(y=t.retry)!=null?y:3,C=(S=t.retryDelay)!=null?S:Bu,L=typeof C=="function"?C(r,v):C,P=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,v);if(e||!P){f(v);return}r++,t.onFail==null||t.onFail(r,v),Bo(L).then(()=>{if(d())return p()}).then(()=>{e?f(v):m()})})};return Vr(t.networkMode)?m():p().then(m),{promise:s,cancel:u,continue:()=>(i==null?void 0:i())?s:Promise.resolve(),cancelRetry:l,continueRetry:c}}const ii=console;function $u(){let t=[],e=0,r=c=>{c()},n=c=>{c()};const i=c=>{let d;e++;try{d=c()}finally{e--,e||s()}return d},a=c=>{e?t.push(c):Ji(()=>{r(c)})},o=c=>(...d)=>{a(()=>{c(...d)})},s=()=>{const c=t;t=[],c.length&&Ji(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:i,batchCalls:o,schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c}}}const ne=$u();class Jo{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),An(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e!=null?e:Yt?1/0:5*60*1e3)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Hu extends Jo{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||ii,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Ju(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const n=Mn(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(e),n?n.then(Ce).catch(Ce):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!jo(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}Array.isArray(this.options.queryKey);const o=ju(),s={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};u(s);const l=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(s)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};if(u(c),(n=this.options.behavior)==null||n.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var d;this.dispatch({type:"fetch",meta:(d=c.fetchOptions)==null?void 0:d.meta})}const h=f=>{if(Cr(f)&&f.silent||this.dispatch({type:"error",error:f}),!Cr(f)){var p,m,g,v;(p=(m=this.cache.config).onError)==null||p.call(m,f,this),(g=(v=this.cache.config).onSettled)==null||g.call(v,this.state.data,f,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Ho({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:f=>{var p,m,g,v;if(typeof f>"u"){h(new Error(this.queryHash+" data is undefined"));return}this.setData(f),(p=(m=this.cache.config).onSuccess)==null||p.call(m,f,this),(g=(v=this.cache.config).onSettled)==null||g.call(v,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:h,onFail:(f,p)=>{this.dispatch({type:"failed",failureCount:f,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=n=>{var i,a;switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:Vr(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(a=e.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Cr(o)&&o.revert&&this.revertState?{...this.revertState}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ne.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Ju(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n!=null?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class Qu extends Tt{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,n){var i;const a=r.queryKey,o=(i=r.queryHash)!=null?i:ni(a,r);let s=this.get(o);return s||(s=new Hu({cache:this,logger:e.getLogger(),queryKey:a,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(n=>n!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){ne.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[n]=ot(e,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>Ui(n,i))}findAll(e,r){const[n]=ot(e,r);return Object.keys(n).length>0?this.queries.filter(i=>Ui(n,i)):this.queries}notify(e){ne.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}onFocus(){ne.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){ne.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class zu extends Jo{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||ii,this.observers=[],this.state=e.state||Ku(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,r;return(e=(r=this.retryer)==null?void 0:r.continue())!=null?e:this.execute()}async execute(){const e=()=>{var P;return this.retryer=Ho({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(x,I)=>{this.dispatch({type:"failed",failureCount:x,error:I})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(P=this.options.retry)!=null?P:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,a,o,s,u,l,c;if(!r){var d,h,f,p;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(h=this.mutationCache.config).onMutate)==null?void 0:d.call(h,this.state.variables,this));const x=await((f=(p=this.options).onMutate)==null?void 0:f.call(p,this.state.variables));x!==this.state.context&&this.dispatch({type:"loading",context:x,variables:this.state.variables})}const P=await e();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,P,this.state.variables,this.state.context,this)),await((a=(o=this.options).onSuccess)==null?void 0:a.call(o,P,this.state.variables,this.state.context)),await((s=(u=this.mutationCache.config).onSettled)==null?void 0:s.call(u,P,null,this.state.variables,this.state.context,this)),await((l=(c=this.options).onSettled)==null?void 0:l.call(c,P,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:P}),P}catch(P){try{var m,g,v,y,S,_,C,L;throw await((m=(g=this.mutationCache.config).onError)==null?void 0:m.call(g,P,this.state.variables,this.state.context,this)),await((v=(y=this.options).onError)==null?void 0:v.call(y,P,this.state.variables,this.state.context)),await((S=(_=this.mutationCache.config).onSettled)==null?void 0:S.call(_,void 0,P,this.state.variables,this.state.context,this)),await((C=(L=this.options).onSettled)==null?void 0:C.call(L,void 0,P,this.state.variables,this.state.context)),P}finally{this.dispatch({type:"error",error:P})}}}dispatch(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Vr(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...n,...e.state}}};this.state=r(this.state),ne.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Ku(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Wu extends Tt{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,n){const i=new zu({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){ne.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>qi(e,r))}findAll(e){return this.mutations.filter(r=>qi(e,r))}notify(e){ne.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return ne.batch(()=>r.reduce((n,i)=>n.then(()=>i.continue().catch(Ce)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Vu(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,n,i,a,o;const s=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,u=(n=t.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,l=u==null?void 0:u.pageParam,c=(u==null?void 0:u.direction)==="forward",d=(u==null?void 0:u.direction)==="backward",h=((a=t.state.data)==null?void 0:a.pages)||[],f=((o=t.state.data)==null?void 0:o.pageParams)||[];let p=f,m=!1;const g=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>{var P;if((P=t.signal)!=null&&P.aborted)m=!0;else{var x;(x=t.signal)==null||x.addEventListener("abort",()=>{m=!0})}return t.signal}})},v=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),y=(L,P,x,I)=>(p=I?[P,...p]:[...p,P],I?[x,...L]:[...L,x]),S=(L,P,x,I)=>{if(m)return Promise.reject("Cancelled");if(typeof x>"u"&&!P&&L.length)return Promise.resolve(L);const J={queryKey:t.queryKey,pageParam:x,meta:t.options.meta};g(J);const G=v(J);return Promise.resolve(G).then(Me=>y(L,x,Me,I))};let _;if(!h.length)_=S([]);else if(c){const L=typeof l<"u",P=L?l:zi(t.options,h);_=S(h,L,P)}else if(d){const L=typeof l<"u",P=L?l:Gu(t.options,h);_=S(h,L,P,!0)}else{p=[];const L=typeof t.options.getNextPageParam>"u";_=(s&&h[0]?s(h[0],0,h):!0)?S([],L,f[0]):Promise.resolve(y([],f[0],h[0]));for(let x=1;x<h.length;x++)_=_.then(I=>{if(s&&h[x]?s(h[x],x,h):!0){const G=L?f[x]:zi(t.options,I);return S(I,L,G)}return Promise.resolve(y(I,f[x],h[x]))})}return _.then(L=>({pages:L,pageParams:p}))}}}}function zi(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Gu(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Xu{constructor(e={}){this.queryCache=e.queryCache||new Qu,this.mutationCache=e.mutationCache||new Wu,this.logger=e.logger||ii,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Fr.subscribe(()=>{Fr.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=jr.subscribe(()=>{jr.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[n]=ot(e,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state.data}ensureQueryData(e,r,n){const i=Wt(e,r,n),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(e,r,n){const i=this.queryCache.find(e),a=i==null?void 0:i.state.data,o=Iu(r,a);if(typeof o>"u")return;const s=Wt(e),u=this.defaultQueryOptions(s);return this.queryCache.build(this,u).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return ne.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state}removeQueries(e,r){const[n]=ot(e,r),i=this.queryCache;ne.batch(()=>{i.findAll(n).forEach(a=>{i.remove(a)})})}resetQueries(e,r,n){const[i,a]=ot(e,r,n),o=this.queryCache,s={type:"active",...i};return ne.batch(()=>(o.findAll(i).forEach(u=>{u.reset()}),this.refetchQueries(s,a)))}cancelQueries(e,r,n){const[i,a={}]=ot(e,r,n);typeof a.revert>"u"&&(a.revert=!0);const o=ne.batch(()=>this.queryCache.findAll(i).map(s=>s.cancel(a)));return Promise.all(o).then(Ce).catch(Ce)}invalidateQueries(e,r,n){const[i,a]=ot(e,r,n);return ne.batch(()=>{var o,s;if(this.queryCache.findAll(i).forEach(l=>{l.invalidate()}),i.refetchType==="none")return Promise.resolve();const u={...i,type:(o=(s=i.refetchType)!=null?s:i.type)!=null?o:"active"};return this.refetchQueries(u,a)})}refetchQueries(e,r,n){const[i,a]=ot(e,r,n),o=ne.batch(()=>this.queryCache.findAll(i).filter(u=>!u.isDisabled()).map(u=>{var l;return u.fetch(void 0,{...a,cancelRefetch:(l=a==null?void 0:a.cancelRefetch)!=null?l:!0,meta:{refetchPage:i.refetchPage}})}));let s=Promise.all(o).then(Ce);return a!=null&&a.throwOnError||(s=s.catch(Ce)),s}fetchQuery(e,r,n){const i=Wt(e,r,n),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)}prefetchQuery(e,r,n){return this.fetchQuery(e,r,n).then(Ce).catch(Ce)}fetchInfiniteQuery(e,r,n){const i=Wt(e,r,n);return i.behavior=Vu(),this.fetchQuery(i)}prefetchInfiniteQuery(e,r,n){return this.fetchInfiniteQuery(e,r,n).then(Ce).catch(Ce)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const n=this.queryDefaults.find(i=>pt(e)===pt(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(n=>Ir(e,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(e,r){const n=this.mutationDefaults.find(i=>pt(e)===pt(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(n=>Ir(e,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=ni(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Qo extends Tt{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Ki(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return In(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return In(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Bi(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const a=this.hasListeners();a&&Wi(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e);return this.createResult(r,e)}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ce)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Yt||this.currentResult.isStale||!An(this.options.staleTime))return;const r=jo(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Yt||this.options.enabled===!1||!An(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Fr.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const n=this.currentQuery,i=this.options,a=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,u=e!==n,l=u?e.state:this.currentQueryInitialState,c=u?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:h,error:f,errorUpdatedAt:p,fetchStatus:m,status:g}=d,v=!1,y=!1,S;if(r._optimisticResults){const x=this.hasListeners(),I=!x&&Ki(e,r),J=x&&Wi(e,n,r,i);(I||J)&&(m=Vr(e.options.networkMode)?"fetching":"paused",h||(g="loading")),r._optimisticResults==="isRestoring"&&(m="idle")}if(r.keepPreviousData&&!d.dataUpdatedAt&&c!=null&&c.isSuccess&&g!=="error")S=c.data,h=c.dataUpdatedAt,g=c.status,v=!0;else if(r.select&&typeof d.data<"u")if(a&&d.data===(o==null?void 0:o.data)&&r.select===this.selectFn)S=this.selectResult;else try{this.selectFn=r.select,S=r.select(d.data),S=Mn(a==null?void 0:a.data,S,r),this.selectResult=S,this.selectError=null}catch(x){this.selectError=x}else S=d.data;if(typeof r.placeholderData<"u"&&typeof S>"u"&&g==="loading"){let x;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData))x=a.data;else if(x=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof x<"u")try{x=r.select(x),this.selectError=null}catch(I){this.selectError=I}typeof x<"u"&&(g="success",S=Mn(a==null?void 0:a.data,x,r),y=!0)}this.selectError&&(f=this.selectError,S=this.selectResult,p=Date.now(),g="error");const _=m==="fetching",C=g==="loading",L=g==="error";return{status:g,fetchStatus:m,isLoading:C,isSuccess:g==="success",isError:L,isInitialLoading:C&&_,data:S,dataUpdatedAt:h,error:f,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:_,isRefetching:_&&!C,isLoadingError:L&&d.dataUpdatedAt===0,isPaused:m==="paused",isPlaceholderData:y,isPreviousData:v,isRefetchError:L&&d.dataUpdatedAt!==0,isStale:ai(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Bi(n,r))return;this.currentResult=n;const i={cache:!0},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const s=new Set(o!=null?o:this.trackedProps);return this.options.useErrorBoundary&&s.add("error"),Object.keys(this.currentResult).some(u=>{const l=u;return this.currentResult[l]!==r[l]&&s.has(l)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!Cr(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){ne.batch(()=>{if(e.onSuccess){var r,n,i,a;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(e.onError){var o,s,u,l;(o=(s=this.options).onError)==null||o.call(s,this.currentResult.error),(u=(l=this.options).onSettled)==null||u.call(l,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Yu(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ki(t,e){return Yu(t,e)||t.state.dataUpdatedAt>0&&In(t,e,e.refetchOnMount)}function In(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&ai(t,e)}return!1}function Wi(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&ai(t,r)}function ai(t,e){return t.isStaleByTime(e.staleTime)}class Zu extends Tt{constructor(e,r){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},r&&this.setQueries(r)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(r=>{this.onUpdate(e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,r){this.queries=e,ne.batch(()=>{const n=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions,r));const a=i.map(l=>l.observer),o=Object.fromEntries(a.map(l=>[l.options.queryHash,l])),s=a.map(l=>l.getCurrentResult()),u=a.some((l,c)=>l!==n[c]);n.length===a.length&&!u||(this.observers=a,this.observersMap=o,this.result=s,this.hasListeners()&&(ji(n,a).forEach(l=>{l.destroy()}),ji(a,n).forEach(l=>{l.subscribe(c=>{this.onUpdate(l,c)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(r=>r.observer.getOptimisticResult(r.defaultedQueryOptions))}findMatchingObservers(e){const r=this.observers,n=new Map(r.map(f=>[f.options.queryHash,f])),i=e.map(f=>this.client.defaultQueryOptions(f)),a=i.flatMap(f=>{const p=n.get(f.queryHash);return p!=null?[{defaultedQueryOptions:f,observer:p}]:[]}),o=new Set(a.map(f=>f.defaultedQueryOptions.queryHash)),s=i.filter(f=>!o.has(f.queryHash)),u=new Set(a.map(f=>f.observer)),l=r.filter(f=>!u.has(f)),c=f=>{const p=this.client.defaultQueryOptions(f),m=this.observersMap[p.queryHash];return m!=null?m:new Qo(this.client,p)},d=s.map((f,p)=>{if(f.keepPreviousData){const m=l[p];if(m!==void 0)return{defaultedQueryOptions:f,observer:m}}return{defaultedQueryOptions:f,observer:c(f)}}),h=(f,p)=>i.indexOf(f.defaultedQueryOptions)-i.indexOf(p.defaultedQueryOptions);return a.concat(d).sort(h)}onUpdate(e,r){const n=this.observers.indexOf(e);n!==-1&&(this.result=Fu(this.result,n,r),this.notify())}notify(){ne.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}var Xe,Y,yn,Vi,Nt=0,zo=[],xr=[],Gi=N.__b,Xi=N.__r,Yi=N.diffed,Zi=N.__c,ea=N.unmount;function _t(t,e){N.__h&&N.__h(Y,t,Nt||e),Nt=0;var r=Y.__H||(Y.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:xr}),r.__[t]}function _e(t){return Nt=1,oi(Vo,t)}function oi(t,e,r){var n=_t(Xe++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Vo(void 0,e),function(s){var u=n.__N?n.__N[0]:n.__[0],l=n.t(u,s);u!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=Y,!Y.u)){var i=function(s,u,l){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(h){return h.__c});if(c.every(function(h){return!h.__N}))return!a||a.call(this,s,u,l);var d=!1;return c.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(d=!0)}}),!(!d&&n.__c.props===s)&&(!a||a.call(this,s,u,l))};Y.u=!0;var a=Y.shouldComponentUpdate,o=Y.componentWillUpdate;Y.componentWillUpdate=function(s,u,l){if(this.__e){var c=a;a=void 0,i(s,u,l),a=c}o&&o.call(this,s,u,l)},Y.shouldComponentUpdate=i}return n.__N||n.__}function ce(t,e){var r=_t(Xe++,3);!N.__s&&ui(r.__H,e)&&(r.__=t,r.i=e,Y.__H.__h.push(r))}function ft(t,e){var r=_t(Xe++,4);!N.__s&&ui(r.__H,e)&&(r.__=t,r.i=e,Y.__h.push(r))}function Ye(t){return Nt=5,Se(function(){return{current:t}},[])}function Ko(t,e,r){Nt=6,ft(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Se(t,e){var r=_t(Xe++,7);return ui(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function Oe(t,e){return Nt=8,Se(function(){return t},e)}function Q(t){var e=Y.context[t.__c],r=_t(Xe++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Y)),e.props.value):t.__}function si(t,e){N.useDebugValue&&N.useDebugValue(e?e(t):t)}function el(t){var e=_t(Xe++,10),r=_e();return e.__=t,Y.componentDidCatch||(Y.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Wo(){var t=_t(Xe++,11);if(!t.__){for(var e=Y.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function tl(){for(var t;t=zo.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Lr),t.__H.__h.forEach(Fn),t.__H.__h=[]}catch(e){t.__H.__h=[],N.__e(e,t.__v)}}N.__b=function(t){Y=null,Gi&&Gi(t)},N.__r=function(t){Xi&&Xi(t),Xe=0;var e=(Y=t.__c).__H;e&&(yn===Y?(e.__h=[],Y.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=xr,r.__N=r.i=void 0})):(e.__h.forEach(Lr),e.__h.forEach(Fn),e.__h=[],Xe=0)),yn=Y},N.diffed=function(t){Yi&&Yi(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(zo.push(e)!==1&&Vi===N.requestAnimationFrame||((Vi=N.requestAnimationFrame)||rl)(tl)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==xr&&(r.__=r.__V),r.i=void 0,r.__V=xr})),yn=Y=null},N.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Lr),r.__h=r.__h.filter(function(n){return!n.__||Fn(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],N.__e(n,r.__v)}}),Zi&&Zi(t,e)},N.unmount=function(t){ea&&ea(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Lr(n)}catch(i){e=i}}),r.__H=void 0,e&&N.__e(e,r.__v))};var ta=typeof requestAnimationFrame=="function";function rl(t){var e,r=function(){clearTimeout(n),ta&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);ta&&(e=requestAnimationFrame(r))}function Lr(t){var e=Y,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Y=e}function Fn(t){var e=Y;t.__c=t.__(),Y=e}function ui(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Vo(t,e){return typeof e=="function"?e(t):e}function Go(t,e){for(var r in e)t[r]=e[r];return t}function jn(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function _n(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function Ur(t){this.props=t}function li(t,e){function r(i){var a=this.props.ref,o=a==i.ref;return!o&&a&&(a.call?a(null):a.current=null),e?!e(this.props,i)||!o:jn(this.props,i)}function n(i){return this.shouldComponentUpdate=r,q(t,i)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(Ur.prototype=new Le).isPureReactComponent=!0,Ur.prototype.shouldComponentUpdate=function(t,e){return jn(this.props,t)||jn(this.state,e)};var ra=N.__b;N.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),ra&&ra(t)};var nl=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Mt(t){function e(r){var n=Go({},r);return delete n.ref,t(n,r.ref||null)}return e.$$typeof=nl,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var na=function(t,e){return t==null?null:Ve(Ve(t).map(e))},ci={map:na,forEach:na,count:function(t){return t?Ve(t).length:0},only:function(t){var e=Ve(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:Ve},il=N.__e;N.__e=function(t,e,r,n){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}il(t,e,r,n)};var ia=N.unmount;function Xo(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Go({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return Xo(n,e,r)})),t}function Yo(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return Yo(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function xt(){this.__u=0,this.t=null,this.__b=null}function Zo(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function fi(t){var e,r,n;function i(a){if(e||(e=t()).then(function(o){r=o.default||o},function(o){n=o}),n)throw n;if(!r)throw e;return q(r,a)}return i.displayName="Lazy",i.__f=!0,i}function Pt(){this.u=null,this.o=null}N.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),ia&&ia(t)},(xt.prototype=new Le).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var i=Zo(n.__v),a=!1,o=function(){a||(a=!0,r.__R=null,i?i(s):s())};r.__R=o;var s=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=Yo(l,l.__c.__P,l.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.t.pop();)c.forceUpdate()}},u=e.__h===!0;n.__u++||u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(o,o)},xt.prototype.componentWillUnmount=function(){this.t=[]},xt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Xo(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&q(ge,null,t.fallback);return i&&(i.__h=null),[q(ge,null,e.__a?null:t.children),i]};var aa=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function al(t){return this.getChildContext=function(){return t.context},t.children}function ol(t){var e=this,r=t.i;e.componentWillUnmount=function(){kt(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),kt(q(al,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function es(t,e){var r=q(ol,{__v:t,i:e});return r.containerInfo=e,r}(Pt.prototype=new Le).__a=function(t){var e=this,r=Zo(e.__v),n=e.o.get(t);return n[0]++,function(i){var a=function(){e.props.revealOrder?(n.push(i),aa(e,t,n)):i()};r?r(a):a()}},Pt.prototype.render=function(t){this.u=null,this.o=new Map;var e=Ve(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Pt.prototype.componentDidUpdate=Pt.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){aa(t,r,e)})};var ts=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,sl=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ul=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,ll=/[A-Z0-9]/g,cl=typeof document<"u",fl=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function rs(t,e,r){return e.__k==null&&(e.textContent=""),kt(t,e),typeof r=="function"&&r(),t?t.__c:null}function ns(t,e,r){return Fo(t,e),typeof r=="function"&&r(),t?t.__c:null}Le.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Le.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var oa=N.event;function dl(){}function hl(){return this.cancelBubble}function pl(){return this.defaultPrevented}N.event=function(t){return oa&&(t=oa(t)),t.persist=dl,t.isPropagationStopped=hl,t.isDefaultPrevented=pl,t.nativeEvent=t};var di,gl={enumerable:!1,configurable:!0,get:function(){return this.class}},sa=N.vnode;N.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,i={};for(var a in r){var o=r[a];if(!(a==="value"&&"defaultValue"in r&&o==null||cl&&a==="children"&&n==="noscript"||a==="class"||a==="className")){var s=a.toLowerCase();a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&o===!0?o="":s==="ondoubleclick"?a="ondblclick":s!=="onchange"||n!=="input"&&n!=="textarea"||fl(r.type)?s==="onfocus"?a="onfocusin":s==="onblur"?a="onfocusout":ul.test(a)?a=s:n.indexOf("-")===-1&&sl.test(a)?a=a.replace(ll,"-$&").toLowerCase():o===null&&(o=void 0):s=a="oninput",s==="oninput"&&i[a=s]&&(a="oninputCapture"),i[a]=o}}n=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Ve(r.children).forEach(function(u){u.props.selected=i.value.indexOf(u.props.value)!=-1})),n=="select"&&i.defaultValue!=null&&(i.value=Ve(r.children).forEach(function(u){u.props.selected=i.multiple?i.defaultValue.indexOf(u.props.value)!=-1:i.defaultValue==u.props.value})),r.class&&!r.className?(i.class=r.class,Object.defineProperty(i,"className",gl)):(r.className&&!r.class||r.class&&r.className)&&(i.class=i.className=r.className),e.props=i}(t),t.$$typeof=ts,sa&&sa(t)};var ua=N.__r;N.__r=function(t){ua&&ua(t),di=t.__c};var la=N.diffed;N.diffed=function(t){la&&la(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value),di=null};var is={ReactCurrentDispatcher:{current:{readContext:function(t){return di.__n[t.__c].props.value}}}},vl="17.0.2";function as(t){return q.bind(null,t)}function Gr(t){return!!t&&t.$$typeof===ts}function os(t){return Gr(t)?Mu.apply(null,arguments):t}function ss(t){return!!t.__k&&(kt(null,t),!0)}function us(t){return t&&(t.base||t.nodeType===1&&t)||null}var ls=function(t,e){return t(e)},cs=function(t,e){return t(e)},fs=ge;function hi(t){t()}function ds(t){return t}function hs(){return[!1,hi]}var ps=ft;function gs(t,e){var r=e(),n=_e({h:{__:r,v:e}}),i=n[0].h,a=n[1];return ft(function(){i.__=r,i.v=e,_n(i.__,e())||a({h:i})},[t,r,e]),ce(function(){return _n(i.__,i.v())||a({h:i}),t(function(){_n(i.__,i.v())||a({h:i})})},[t]),r}var ml={useState:_e,useId:Wo,useReducer:oi,useEffect:ce,useLayoutEffect:ft,useInsertionEffect:ps,useTransition:hs,useDeferredValue:ds,useSyncExternalStore:gs,startTransition:hi,useRef:Ye,useImperativeHandle:Ko,useMemo:Se,useCallback:Oe,useContext:Q,useDebugValue:si,version:"17.0.2",Children:ci,render:rs,hydrate:ns,unmountComponentAtNode:ss,createPortal:es,createElement:q,createContext:ve,createFactory:as,cloneElement:os,createRef:xo,Fragment:ge,isValidElement:Gr,findDOMNode:us,Component:Le,PureComponent:Ur,memo:li,forwardRef:Mt,flushSync:cs,unstable_batchedUpdates:ls,StrictMode:fs,Suspense:xt,SuspenseList:Pt,lazy:fi,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:is};const vs=Object.freeze(Object.defineProperty({__proto__:null,Children:ci,Component:Le,Fragment:ge,PureComponent:Ur,StrictMode:fs,Suspense:xt,SuspenseList:Pt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:is,cloneElement:os,createContext:ve,createElement:q,createFactory:as,createPortal:es,createRef:xo,default:ml,findDOMNode:us,flushSync:cs,forwardRef:Mt,hydrate:ns,isValidElement:Gr,lazy:fi,memo:li,render:rs,startTransition:hi,unmountComponentAtNode:ss,unstable_batchedUpdates:ls,useCallback:Oe,useContext:Q,useDebugValue:si,useDeferredValue:ds,useEffect:ce,useErrorBoundary:el,useId:Wo,useImperativeHandle:Ko,useInsertionEffect:ps,useLayoutEffect:ft,useMemo:Se,useReducer:oi,useRef:Ye,useState:_e,useSyncExternalStore:gs,useTransition:hs,version:vl},Symbol.toStringTag,{value:"Module"}));var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ms(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yl(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(e,i);return new a}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ys={exports:{}},_s={};const bs=yl(vs);/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=bs;function _l(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bl=typeof Object.is=="function"?Object.is:_l,wl=Dt.useState,Sl=Dt.useEffect,Ol=Dt.useLayoutEffect,Rl=Dt.useDebugValue;function Pl(t,e){var r=e(),n=wl({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return Ol(function(){i.value=r,i.getSnapshot=e,bn(i)&&a({inst:i})},[t,r,e]),Sl(function(){return bn(i)&&a({inst:i}),t(function(){bn(i)&&a({inst:i})})},[t]),Rl(r),r}function bn(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!bl(t,r)}catch(n){return!0}}function El(t,e){return e()}var Cl=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?El:Pl;_s.useSyncExternalStore=Dt.useSyncExternalStore!==void 0?Dt.useSyncExternalStore:Cl;ys.exports=_s;var ws=ys.exports;const Ss=ws.useSyncExternalStore,ca=ve(void 0),Os=ve(!1);function Rs(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ca),window.ReactQueryClientContext):ca)}const Xr=({context:t}={})=>{const e=Q(Rs(t,Q(Os)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},xl=({client:t,children:e,context:r,contextSharing:n=!1})=>{ce(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=Rs(r,n);return q(Os.Provider,{value:!r&&n},q(i.Provider,{value:t},e))},Ps=ve(!1),Es=()=>Q(Ps);Ps.Provider;function Ll(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const kl=ve(Ll()),Cs=()=>Q(kl);function Nl(t,e){return typeof t=="function"?t(...e):!!t}const xs=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Ls=t=>{ce(()=>{t.clearReset()},[t])},ks=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&Nl(r,[t.error,n]),Ns=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Ds=(t,e)=>t.isLoading&&t.isFetching&&!e,Un=(t,e,r)=>(t==null?void 0:t.suspense)&&Ds(e,r),qn=(t,e,r)=>e.fetchOptimistic(t).then(({data:n})=>{t.onSuccess==null||t.onSuccess(n),t.onSettled==null||t.onSettled(n,null)}).catch(n=>{r.clearReset(),t.onError==null||t.onError(n),t.onSettled==null||t.onSettled(void 0,n)});function Dl({queries:t,context:e}){const r=Xr({context:e}),n=Es(),i=Cs(),a=Se(()=>t.map(h=>{const f=r.defaultQueryOptions(h);return f._optimisticResults=n?"isRestoring":"optimistic",f}),[t,r,n]);a.forEach(h=>{Ns(h),xs(h,i)}),Ls(i);const[o]=_e(()=>new Zu(r,a)),s=o.getOptimisticResult(a);Ss(Oe(h=>n?()=>{}:o.subscribe(ne.batchCalls(h)),[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),ce(()=>{o.setQueries(a,{listeners:!1})},[a,o]);const l=s.some((h,f)=>Un(a[f],h,n))?s.flatMap((h,f)=>{const p=a[f],m=o.getObservers()[f];if(p&&m){if(Un(p,h,n))return qn(p,m,i);Ds(h,n)&&qn(p,m,i)}return[]}):[];if(l.length>0)throw Promise.all(l);const c=o.getQueries(),d=s.find((h,f)=>{var p,m;return ks({result:h,errorResetBoundary:i,useErrorBoundary:(p=(m=a[f])==null?void 0:m.useErrorBoundary)!=null?p:!1,query:c[f]})});if(d!=null&&d.error)throw d.error;return s}function Al(t,e){const r=Xr({context:t.context}),n=Es(),i=Cs(),a=r.defaultQueryOptions(t);a._optimisticResults=n?"isRestoring":"optimistic",a.onError&&(a.onError=ne.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=ne.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=ne.batchCalls(a.onSettled)),Ns(a),xs(a,i),Ls(i);const[o]=_e(()=>new e(r,a)),s=o.getOptimisticResult(a);if(Ss(Oe(u=>{const l=n?()=>{}:o.subscribe(ne.batchCalls(u));return o.updateResult(),l},[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),ce(()=>{o.setOptions(a,{listeners:!1})},[a,o]),Un(a,s,n))throw qn(a,o,i);if(ks({result:s,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:o.getCurrentQuery()}))throw s.error;return a.notifyOnChangeProps?s:o.trackResult(s)}function As(t,e,r){const n=Wt(t,e,r);return Al(n,Qo)}const fa=t=>{let e;const r=new Set,n=(u,l)=>{const c=typeof u=="function"?u(e):u;if(!Object.is(c,e)){const d=e;e=(l!=null?l:typeof c!="object")?c:Object.assign({},e,c),r.forEach(h=>h(e,d))}},i=()=>e,s={setState:n,getState:i,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return e=t(n,i,s),s},Tl=t=>t?fa(t):fa;var Ts={exports:{}},Ms={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=bs,Ml=ws;function Il(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fl=typeof Object.is=="function"?Object.is:Il,jl=Ml.useSyncExternalStore,Ul=Yr.useRef,ql=Yr.useEffect,Bl=Yr.useMemo,$l=Yr.useDebugValue;Ms.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=Ul(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Bl(function(){function u(f){if(!l){if(l=!0,c=f,f=n(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return d=p}return d=f}if(p=d,Fl(c,f))return p;var m=n(f);return i!==void 0&&i(p,m)?p:(c=f,d=m)}var l=!1,c,d,h=r===void 0?null:r;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,r,n,i]);var s=jl(t,a[0],a[1]);return ql(function(){o.hasValue=!0,o.value=s},[s]),$l(s),s};Ts.exports=Ms;var Hl=Ts.exports;const Jl=ms(Hl),{useSyncExternalStoreWithSelector:Ql}=Jl;function zl(t,e=t.getState,r){const n=Ql(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return si(n),n}const da=t=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1}&&"production")!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Tl(t):t,r=(n,i)=>zl(e,n,i);return Object.assign(r,e),r},Kl=t=>t?da(t):da,Bn=new Map,br=t=>{const e=Bn.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,n])=>[r,n.getState()])):{}},Wl=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const n=Bn.get(r.name);if(n)return{type:"tracked",store:t,...n};const i={connection:e.connect(r),stores:{}};return Bn.set(r.name,i),{type:"tracked",store:t,...i}},Vl=(t,e={})=>(r,n,i)=>{const{enabled:a,anonymousActionType:o,store:s,...u}=e;let l;try{l=(a!=null?a:({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1}&&"production")!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(m){}if(!l)return({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1}&&"production")!=="production"&&a&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(r,n,i);const{connection:c,...d}=Wl(s,l,u);let h=!0;i.setState=(m,g,v)=>{const y=r(m,g);if(!h)return y;const S=v===void 0?{type:o||"anonymous"}:typeof v=="string"?{type:v}:v;return s===void 0?(c==null||c.send(S,n()),y):(c==null||c.send({...S,type:`${s}/${S.type}`},{...br(u.name),[s]:i.getState()}),y)};const f=(...m)=>{const g=h;h=!1,r(...m),h=g},p=t(i.setState,n,i);if(d.type==="untracked"?c==null||c.init(p):(d.stores[d.store]=i,c==null||c.init(Object.fromEntries(Object.entries(d.stores).map(([m,g])=>[m,m===d.store?p:g.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let m=!1;const g=i.dispatch;i.dispatch=(...v)=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1}&&"production")!=="production"&&v[0].type==="__setState"&&!m&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),m=!0),g(...v)}}return c.subscribe(m=>{var g;switch(m.type){case"ACTION":if(typeof m.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return wn(m.payload,v=>{if(v.type==="__setState"){if(s===void 0){f(v.state);return}Object.keys(v.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const y=v.state[s];if(y==null)return;JSON.stringify(i.getState())!==JSON.stringify(y)&&f(y);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(v)});case"DISPATCH":switch(m.payload.type){case"RESET":return f(p),s===void 0?c==null?void 0:c.init(i.getState()):c==null?void 0:c.init(br(u.name));case"COMMIT":if(s===void 0){c==null||c.init(i.getState());return}return c==null?void 0:c.init(br(u.name));case"ROLLBACK":return wn(m.state,v=>{if(s===void 0){f(v),c==null||c.init(i.getState());return}f(v[s]),c==null||c.init(br(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return wn(m.state,v=>{if(s===void 0){f(v);return}JSON.stringify(i.getState())!==JSON.stringify(v[s])&&f(v[s])});case"IMPORT_STATE":{const{nextLiftedState:v}=m.payload,y=(g=v.computedStates.slice(-1)[0])==null?void 0:g.state;if(!y)return;f(s===void 0?y:y[s]),c==null||c.send(null,v);return}case"PAUSE_RECORDING":return h=!h}return}}),p},Gl=Vl,wn=(t,e)=>{let r;try{r=JSON.parse(t)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&e(r)},Xl=t=>(e,r,n)=>{const i=n.subscribe;return n.subscribe=(o,s,u)=>{let l=o;if(s){const c=(u==null?void 0:u.equalityFn)||Object.is;let d=o(n.getState());l=h=>{const f=o(h);if(!c(d,f)){const p=d;s(d=f,p)}},u!=null&&u.fireImmediately&&s(d,d)}return i(l)},t(e,r,n)},Yl=Xl;function Zl(t,e){let r;try{r=t()}catch(i){return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,e==null?void 0:e.reviver),s=(a=r.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,e==null?void 0:e.replacer)),removeItem:i=>r.removeItem(i)}}const Zt=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Zt(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Zt(n)(r)}}}},ec=(t,e)=>(r,n,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},o=!1;const s=new Set,u=new Set;let l;try{l=a.getStorage()}catch(g){}if(!l)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...g)},n,i);const c=Zt(a.serialize),d=()=>{const g=a.partialize({...n()});let v;const y=c({state:g,version:a.version}).then(S=>l.setItem(a.name,S)).catch(S=>{v=S});if(v)throw v;return y},h=i.setState;i.setState=(g,v)=>{h(g,v),d()};const f=t((...g)=>{r(...g),d()},n,i);let p;const m=()=>{var g;if(!l)return;o=!1,s.forEach(y=>y(n()));const v=((g=a.onRehydrateStorage)==null?void 0:g.call(a,n()))||void 0;return Zt(l.getItem.bind(l))(a.name).then(y=>{if(y)return a.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return a.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var S;return p=a.merge(y,(S=n())!=null?S:f),r(p,!0),d()}).then(()=>{v==null||v(p,void 0),o=!0,u.forEach(y=>y(p))}).catch(y=>{v==null||v(void 0,y)})};return i.persist={setOptions:g=>{a={...a,...g},g.getStorage&&(l=g.getStorage())},clearStorage:()=>{l==null||l.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(s.add(g),()=>{s.delete(g)}),onFinishHydration:g=>(u.add(g),()=>{u.delete(g)})},m(),p||f},tc=(t,e)=>(r,n,i)=>{let a={storage:Zl(()=>localStorage),partialize:m=>m,version:0,merge:(m,g)=>({...g,...m}),...e},o=!1;const s=new Set,u=new Set;let l=a.storage;if(!l)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...m)},n,i);const c=()=>{const m=a.partialize({...n()});return l.setItem(a.name,{state:m,version:a.version})},d=i.setState;i.setState=(m,g)=>{d(m,g),c()};const h=t((...m)=>{r(...m),c()},n,i);let f;const p=()=>{var m,g;if(!l)return;o=!1,s.forEach(y=>{var S;return y((S=n())!=null?S:h)});const v=((g=a.onRehydrateStorage)==null?void 0:g.call(a,(m=n())!=null?m:h))||void 0;return Zt(l.getItem.bind(l))(a.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return a.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var S;return f=a.merge(y,(S=n())!=null?S:h),r(f,!0),c()}).then(()=>{v==null||v(f,void 0),f=n(),o=!0,u.forEach(y=>y(f))}).catch(y=>{v==null||v(void 0,y)})};return i.persist={setOptions:m=>{a={...a,...m},m.storage&&(l=m.storage)},clearStorage:()=>{l==null||l.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:m=>(s.add(m),()=>{s.delete(m)}),onFinishHydration:m=>(u.add(m),()=>{u.delete(m)})},a.skipHydration||p(),f||h},rc=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,LEGACY:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ec(t,e)):tc(t,e),nc=rc,ic=t=>({messages:{},markdownToHTML:{},lastMessageTime:1/0,addMessage(e){const r=e.req.uid;t(n=>{var a,o,s;const i=n.messages;return{messages:{...i,[r]:(s=(o=(a=i[r])==null?void 0:a.concat)==null?void 0:o.call(a,e))!=null?s:[e]}}})},addMarkdownToHTML(e,r){t(n=>({markdownToHTML:{...n.markdownToHTML,[e]:r}}))},changeLastMessageTime(){t({lastMessageTime:Math.floor(Date.now()/1e3)})}});var er=(t=>(t[t.NOT_LOGIN=0]="NOT_LOGIN",t[t.LOGIN_LOADING=1]="LOGIN_LOADING",t[t.LOGIN_FAILED=2]="LOGIN_FAILED",t[t.LOGIN_SUCCESS=3]="LOGIN_SUCCESS",t[t.TOKEN_LOGIN=4]="TOKEN_LOGIN",t))(er||{});const ac=t=>({type:4,username:"",token:null,success(){t({type:3})},failed(){t({type:2})},startGet(){t({type:1})},reset(){t({type:0})},tokenLogin(){t({type:4})},setToken(e){t({token:e})},changeUsername(e){t({username:e})}}),oc=t=>({chat:null,chatName:null,sessions:[],session:null,changeChatName(e){t({chatName:e})},changeChat(e){t({chat:e})},changeAllChat(e,r){t(({chat:n,chatName:i})=>(i==null||n==null)&&e.length?{chat:e[0],chatName:r[0]}:!e.includes(n)||!r.includes(i)?{chat:e[0],chatName:r[0]}:{})},changeSession(e){t({session:e})},addSession(e,r){t(({sessions:n})=>n.find(i=>i[0]==e&&i[1]==r)!=null?{}:{sessions:n.concat([e,r])})}}),sc=t=>({pluginLinks:[],sendHook:null,receiveHook:null,appHook:null,setSendHook(e){t({sendHook:e})},setReceiveHook(e){t({receiveHook:e})},setAppHook(e){t({appHook:e})}});/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ee(){return ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ee.apply(this,arguments)}var ae;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ae||(ae={}));const ha="popstate";function uc(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return tr("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ut(i)}return cc(e,r,null,t)}function F(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function At(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch(r){}}}function lc(){return Math.random().toString(36).substr(2,8)}function pa(t,e){return{usr:t.state,key:t.key,idx:e}}function tr(t,e,r,n){return r===void 0&&(r=null),ee({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?et(e):e,{state:r,key:e&&e.key||n||lc()})}function ut(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function et(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function cc(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=ae.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(ee({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function d(){s=ae.Pop;let g=c(),v=g==null?null:g-l;l=g,u&&u({action:s,location:m.location,delta:v})}function h(g,v){s=ae.Push;let y=tr(m.location,g,v);r&&r(y,g),l=c()+1;let S=pa(y,l),_=m.createHref(y);try{o.pushState(S,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(_)}a&&u&&u({action:s,location:m.location,delta:1})}function f(g,v){s=ae.Replace;let y=tr(m.location,g,v);r&&r(y,g),l=c();let S=pa(y,l),_=m.createHref(y);o.replaceState(S,"",_),a&&u&&u({action:s,location:m.location,delta:0})}function p(g){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof g=="string"?g:ut(g);return F(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return s},get location(){return t(i,o)},listen(g){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ha,d),u=g,()=>{i.removeEventListener(ha,d),u=null}},createHref(g){return e(i,g)},createURL:p,encodeLocation(g){let v=p(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(g){return o.go(g)}};return m}var oe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oe||(oe={}));const fc=new Set(["lazy","caseSensitive","path","id","index","children"]);function dc(t){return t.index===!0}function $n(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,a)=>{let o=[...r,a],s=typeof i.id=="string"?i.id:o.join("-");if(F(i.index!==!0||!i.children,"Cannot specify children on an index route"),F(!n[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),dc(i)){let u=ee({},i,e(i),{id:s});return n[s]=u,u}else{let u=ee({},i,e(i),{id:s,children:void 0});return n[s]=u,i.children&&(u.children=$n(i.children,e,o,n)),u}})}function Et(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?et(e):e,i=lt(n.pathname||"/",r);if(i==null)return null;let a=Is(t);hc(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=Sc(a[s],Pc(i));return o}function Is(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let u={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(F(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let l=qe([n,u.relativePath]),c=r.concat(u);a.children&&a.children.length>0&&(F(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Is(a.children,e,c,l)),!(a.path==null&&!a.index)&&e.push({path:l,score:bc(l,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let u of Fs(a.path))i(a,o,u)}),e}function Fs(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=Fs(n.join("/")),s=[];return s.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&s.push(...o),s.map(u=>t.startsWith("/")&&u===""?"/":u)}function hc(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:wc(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pc=/^:\w+$/,gc=3,vc=2,mc=1,yc=10,_c=-2,ga=t=>t==="*";function bc(t,e){let r=t.split("/"),n=r.length;return r.some(ga)&&(n+=_c),e&&(n+=vc),r.filter(i=>!ga(i)).reduce((i,a)=>i+(pc.test(a)?gc:a===""?mc:yc),n)}function wc(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Sc(t,e){let{routesMeta:r}=t,n={},i="/",a=[];for(let o=0;o<r.length;++o){let s=r[o],u=o===r.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=Oc({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(n,c.params);let d=s.route;a.push({params:n,pathname:qe([i,c.pathname]),pathnameBase:Lc(qe([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=qe([i,c.pathnameBase]))}return a}function Oc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Rc(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((l,c,d)=>{if(c==="*"){let h=s[d]||"";o=a.slice(0,a.length-h.length).replace(/(.)\/+$/,"$1")}return l[c]=Ec(s[d]||"",c),l},{}),pathname:a,pathnameBase:o,pattern:t}}function Rc(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),At(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,s)=>(n.push(s),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Pc(t){try{return decodeURI(t)}catch(e){return At(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ec(t,e){try{return decodeURIComponent(t)}catch(r){return At(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function lt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Cc(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?et(t):t;return{pathname:r?r.startsWith("/")?r:xc(r,e):e,search:kc(n),hash:Nc(i)}}function xc(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Sn(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zr(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function pi(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=et(t):(i=ee({},t),F(!i.pathname||!i.pathname.includes("?"),Sn("?","pathname","search",i)),F(!i.pathname||!i.pathname.includes("#"),Sn("#","pathname","hash",i)),F(!i.search||!i.search.includes("#"),Sn("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(n||o==null)s=r;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?e[d]:"/"}let u=Cc(i,s),l=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const qe=t=>t.join("/").replace(/\/\/+/g,"/"),Lc=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kc=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nc=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,gi=function(e,r){r===void 0&&(r={});let n=typeof r=="number"?{status:r}:r,i=new Headers(n.headers);return i.has("Content-Type")||i.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),ee({},n,{headers:i}))},vt=function(e,r){r===void 0&&(r=302);let n=r;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let i=new Headers(n.headers);return i.set("Location",e),new Response(null,ee({},n,{headers:i}))};class vi{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function js(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Us=["post","put","patch","delete"],Dc=new Set(Us),Ac=["get",...Us],Tc=new Set(Ac),Mc=new Set([301,302,303,307,308]),Ic=new Set([307,308]),On={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fc={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qs=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jc=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function Uc(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;F(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let w=t.detectErrorBoundary;i=O=>({hasErrorBoundary:w(O)})}else i=jc;let a={},o=$n(t.routes,i,void 0,a),s,u=t.basename||"/",l=ee({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,d=new Set,h=null,f=null,p=null,m=t.hydrationData!=null,g=Et(o,t.history.location,u),v=null;if(g==null){let w=xe(404,{pathname:t.history.location.pathname}),{matches:O,route:R}=Oa(o);g=O,v={[R.id]:w}}let y=!g.some(w=>w.route.lazy)&&(!g.some(w=>w.route.loader)||t.hydrationData!=null),S,_={historyAction:t.history.action,location:t.history.location,matches:g,initialized:y,navigation:On,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},C=ae.Pop,L=!1,P,x=!1,I=!1,J=[],G=[],K=new Map,Me=0,b=-1,E=new Map,T=new Set,W=new Map,V=new Map,$=new Map,Ie=!1;function me(){return c=t.history.listen(w=>{let{action:O,location:R,delta:k}=w;if(Ie){Ie=!1;return}At($.size===0||k!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let B=Li({currentLocation:_.location,nextLocation:R,historyAction:O});if(B&&k!=null){Ie=!0,t.history.go(k*-1),vr(B,{state:"blocked",location:R,proceed(){vr(B,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),t.history.go(k)},reset(){let j=new Map(_.blockers);j.set(B,Bt),ie({blockers:j})}});return}return Re(O,R)}),_.initialized||Re(ae.Pop,_.location),S}function dt(){c&&c(),d.clear(),P&&P.abort(),_.fetchers.forEach((w,O)=>dn(O)),_.blockers.forEach((w,O)=>xi(O))}function cn(w){return d.add(w),()=>d.delete(w)}function ie(w){_=ee({},_,w),d.forEach(O=>O(_))}function nt(w,O){var R,k;let B=_.actionData!=null&&_.navigation.formMethod!=null&&Te(_.navigation.formMethod)&&_.navigation.state==="loading"&&((R=w.state)==null?void 0:R._isRedirect)!==!0,j;O.actionData?Object.keys(O.actionData).length>0?j=O.actionData:j=null:B?j=_.actionData:j=null;let U=O.loaderData?Sa(_.loaderData,O.loaderData,O.matches||[],O.errors):_.loaderData,M=_.blockers;M.size>0&&(M=new Map(M),M.forEach((Z,z)=>M.set(z,Bt)));let D=L===!0||_.navigation.formMethod!=null&&Te(_.navigation.formMethod)&&((k=w.state)==null?void 0:k._isRedirect)!==!0;s&&(o=s,s=void 0),x||C===ae.Pop||(C===ae.Push?t.history.push(w,w.state):C===ae.Replace&&t.history.replace(w,w.state)),ie(ee({},O,{actionData:j,loaderData:U,historyAction:C,location:w,initialized:!0,navigation:On,revalidation:"idle",restoreScrollPosition:Ni(w,O.matches||_.matches),preventScrollReset:D,blockers:M})),C=ae.Pop,L=!1,x=!1,I=!1,J=[],G=[]}async function it(w,O){if(typeof w=="number"){t.history.go(w);return}let R=Hn(_.location,_.matches,u,l.v7_prependBasename,w,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:k,submission:B,error:j}=va(l.v7_normalizeFormMethod,!1,R,O),U=_.location,M=tr(_.location,k,O&&O.state);M=ee({},M,t.history.encodeLocation(M));let D=O&&O.replace!=null?O.replace:void 0,Z=ae.Push;D===!0?Z=ae.Replace:D===!1||B!=null&&Te(B.formMethod)&&B.formAction===_.location.pathname+_.location.search&&(Z=ae.Replace);let z=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,ye=Li({currentLocation:U,nextLocation:M,historyAction:Z});if(ye){vr(ye,{state:"blocked",location:M,proceed(){vr(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),it(w,O)},reset(){let se=new Map(_.blockers);se.set(ye,Bt),ie({blockers:se})}});return}return await Re(Z,M,{submission:B,pendingError:j,preventScrollReset:z,replace:O&&O.replace})}function bt(){if(fn(),ie({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Re(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Re(C||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function Re(w,O,R){P&&P.abort(),P=null,C=w,x=(R&&R.startUninterruptedRevalidation)===!0,Pu(_.location,_.matches),L=(R&&R.preventScrollReset)===!0;let k=s||o,B=R&&R.overrideNavigation,j=Et(k,O,u);if(!j){let se=xe(404,{pathname:O.pathname}),{matches:he,route:Fe}=Oa(k);hn(),nt(O,{matches:he,loaderData:{},errors:{[Fe.id]:se}});return}if(_.initialized&&!I&&Jc(_.location,O)&&!(R&&R.submission&&Te(R.submission.formMethod))){nt(O,{matches:j});return}P=new AbortController;let U=Ht(t.history,O,P.signal,R&&R.submission),M,D;if(R&&R.pendingError)D={[Ct(j).route.id]:R.pendingError};else if(R&&R.submission&&Te(R.submission.formMethod)){let se=await dr(U,O,R.submission,j,{replace:R.replace});if(se.shortCircuited)return;M=se.pendingActionData,D=se.pendingActionError,B=wr(O,R.submission),U=new Request(U.url,{signal:U.signal})}let{shortCircuited:Z,loaderData:z,errors:ye}=await It(U,O,j,B,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,M,D);Z||(P=null,nt(O,ee({matches:j},M?{actionData:M}:{},{loaderData:z,errors:ye})))}async function dr(w,O,R,k,B){B===void 0&&(B={}),fn();let j=Vc(O,R);ie({navigation:j});let U,M=Qn(k,O);if(!M.route.action&&!M.route.lazy)U={type:oe.error,error:xe(405,{method:w.method,pathname:O.pathname,routeId:M.route.id})};else if(U=await $t("action",w,M,k,a,i,u),w.signal.aborted)return{shortCircuited:!0};if(Lt(U)){let D;return B&&B.replace!=null?D=B.replace:D=U.location===_.location.pathname+_.location.search,await jt(_,U,{submission:R,replace:D}),{shortCircuited:!0}}if(Gt(U)){let D=Ct(k,M.route.id);return(B&&B.replace)!==!0&&(C=ae.Push),{pendingActionData:{},pendingActionError:{[D.route.id]:U.error}}}if(gt(U))throw xe(400,{type:"defer-action"});return{pendingActionData:{[M.route.id]:U.data}}}async function It(w,O,R,k,B,j,U,M,D){let Z=k||wr(O,B),z=B||j||Ea(Z),ye=s||o,[se,he]=ma(t.history,_,R,z,O,I,J,G,W,T,ye,u,M,D);if(hn(re=>!(R&&R.some(Pe=>Pe.route.id===re))||se&&se.some(Pe=>Pe.route.id===re)),se.length===0&&he.length===0){let re=Ei();return nt(O,ee({matches:R,loaderData:{},errors:D||null},M?{actionData:M}:{},re?{fetchers:new Map(_.fetchers)}:{})),{shortCircuited:!0}}if(!x){he.forEach(Pe=>{let wt=_.fetchers.get(Pe.key),le=Jt(void 0,wt?wt.data:void 0);_.fetchers.set(Pe.key,le)});let re=M||_.actionData;ie(ee({navigation:Z},re?Object.keys(re).length===0?{actionData:null}:{actionData:re}:{},he.length>0?{fetchers:new Map(_.fetchers)}:{}))}b=++Me,he.forEach(re=>{K.has(re.key)&&at(re.key),re.controller&&K.set(re.key,re.controller)});let Fe=()=>he.forEach(re=>at(re.key));P&&P.signal.addEventListener("abort",Fe);let{results:Ut,loaderResults:pn,fetcherResults:mr}=await Ri(_.matches,R,se,he,w);if(w.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Fe),he.forEach(re=>K.delete(re.key));let ze=Ra(Ut);if(ze)return await jt(_,ze,{replace:U}),{shortCircuited:!0};let{loaderData:yr,errors:gn}=wa(_,R,se,pn,D,he,mr,V);V.forEach((re,Pe)=>{re.subscribe(wt=>{(wt||re.done)&&V.delete(Pe)})});let vn=Ei(),mn=Ci(b),_r=vn||mn||he.length>0;return ee({loaderData:yr,errors:gn},_r?{fetchers:new Map(_.fetchers)}:{})}function Qe(w){return _.fetchers.get(w)||Fc}function Ft(w,O,R,k){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");K.has(w)&&at(w);let B=s||o,j=Hn(_.location,_.matches,u,l.v7_prependBasename,R,O,k==null?void 0:k.relative),U=Et(B,j,u);if(!U){gr(w,O,xe(404,{pathname:j}));return}let{path:M,submission:D,error:Z}=va(l.v7_normalizeFormMethod,!0,j,k);if(Z){gr(w,O,Z);return}let z=Qn(U,M);if(L=(k&&k.preventScrollReset)===!0,D&&Te(D.formMethod)){hr(w,O,M,z,U,D);return}W.set(w,{routeId:O,path:M}),pr(w,O,M,z,U,D)}async function hr(w,O,R,k,B,j){if(fn(),W.delete(w),!k.route.action&&!k.route.lazy){let le=xe(405,{method:j.formMethod,pathname:R,routeId:O});gr(w,O,le);return}let U=_.fetchers.get(w),M=Gc(j,U);_.fetchers.set(w,M),ie({fetchers:new Map(_.fetchers)});let D=new AbortController,Z=Ht(t.history,R,D.signal,j);K.set(w,D);let z=await $t("action",Z,k,B,a,i,u);if(Z.signal.aborted){K.get(w)===D&&K.delete(w);return}if(Lt(z)){K.delete(w),T.add(w);let le=Jt(j);return _.fetchers.set(w,le),ie({fetchers:new Map(_.fetchers)}),jt(_,z,{submission:j,isFetchActionRedirect:!0})}if(Gt(z)){gr(w,O,z.error);return}if(gt(z))throw xe(400,{type:"defer-action"});let ye=_.navigation.location||_.location,se=Ht(t.history,ye,D.signal),he=s||o,Fe=_.navigation.state!=="idle"?Et(he,_.navigation.location,u):_.matches;F(Fe,"Didn't find any matches after fetcher action");let Ut=++Me;E.set(w,Ut);let pn=Jt(j,z.data);_.fetchers.set(w,pn);let[mr,ze]=ma(t.history,_,Fe,j,ye,I,J,G,W,T,he,u,{[k.route.id]:z.data},void 0);ze.filter(le=>le.key!==w).forEach(le=>{let qt=le.key,Di=_.fetchers.get(qt),Cu=Jt(void 0,Di?Di.data:void 0);_.fetchers.set(qt,Cu),K.has(qt)&&at(qt),le.controller&&K.set(qt,le.controller)}),ie({fetchers:new Map(_.fetchers)});let yr=()=>ze.forEach(le=>at(le.key));D.signal.addEventListener("abort",yr);let{results:gn,loaderResults:vn,fetcherResults:mn}=await Ri(_.matches,Fe,mr,ze,se);if(D.signal.aborted)return;D.signal.removeEventListener("abort",yr),E.delete(w),K.delete(w),ze.forEach(le=>K.delete(le.key));let _r=Ra(gn);if(_r)return jt(_,_r);let{loaderData:re,errors:Pe}=wa(_,_.matches,mr,vn,void 0,ze,mn,V);if(_.fetchers.has(w)){let le=kr(z.data);_.fetchers.set(w,le)}let wt=Ci(Ut);_.navigation.state==="loading"&&Ut>b?(F(C,"Expected pending action"),P&&P.abort(),nt(_.navigation.location,{matches:Fe,loaderData:re,errors:Pe,fetchers:new Map(_.fetchers)})):(ie(ee({errors:Pe,loaderData:Sa(_.loaderData,re,Fe,Pe)},wt||ze.length>0?{fetchers:new Map(_.fetchers)}:{})),I=!1)}async function pr(w,O,R,k,B,j){let U=_.fetchers.get(w),M=Jt(j,U?U.data:void 0);_.fetchers.set(w,M),ie({fetchers:new Map(_.fetchers)});let D=new AbortController,Z=Ht(t.history,R,D.signal);K.set(w,D);let z=await $t("loader",Z,k,B,a,i,u);if(gt(z)&&(z=await Hs(z,Z.signal,!0)||z),K.get(w)===D&&K.delete(w),Z.signal.aborted)return;if(Lt(z)){T.add(w),await jt(_,z);return}if(Gt(z)){let se=Ct(_.matches,O);_.fetchers.delete(w),ie({fetchers:new Map(_.fetchers),errors:{[se.route.id]:z.error}});return}F(!gt(z),"Unhandled fetcher deferred data");let ye=kr(z.data);_.fetchers.set(w,ye),ie({fetchers:new Map(_.fetchers)})}async function jt(w,O,R){let{submission:k,replace:B,isFetchActionRedirect:j}=R===void 0?{}:R;O.revalidate&&(I=!0);let U=tr(w.location,O.location,ee({_isRedirect:!0},j?{_isFetchActionRedirect:!0}:{}));if(F(U,"Expected a location on the redirect navigation"),qs.test(O.location)&&r){let Z=t.history.createURL(O.location),z=lt(Z.pathname,u)==null;if(e.location.origin!==Z.origin||z){B?e.location.replace(O.location):e.location.assign(O.location);return}}P=null;let M=B===!0?ae.Replace:ae.Push,D=k||Ea(w.navigation);if(Ic.has(O.status)&&D&&Te(D.formMethod))await Re(M,U,{submission:ee({},D,{formAction:O.location}),preventScrollReset:L});else if(j)await Re(M,U,{overrideNavigation:wr(U),fetcherSubmission:D,preventScrollReset:L});else{let Z=wr(U,D);await Re(M,U,{overrideNavigation:Z,preventScrollReset:L})}}async function Ri(w,O,R,k,B){let j=await Promise.all([...R.map(D=>$t("loader",B,D,O,a,i,u)),...k.map(D=>D.matches&&D.match&&D.controller?$t("loader",Ht(t.history,D.path,D.controller.signal),D.match,D.matches,a,i,u):{type:oe.error,error:xe(404,{pathname:D.path})})]),U=j.slice(0,R.length),M=j.slice(R.length);return await Promise.all([Pa(w,R,U,U.map(()=>B.signal),!1,_.loaderData),Pa(w,k.map(D=>D.match),M,k.map(D=>D.controller?D.controller.signal:null),!0)]),{results:j,loaderResults:U,fetcherResults:M}}function fn(){I=!0,J.push(...hn()),W.forEach((w,O)=>{K.has(O)&&(G.push(O),at(O))})}function gr(w,O,R){let k=Ct(_.matches,O);dn(w),ie({errors:{[k.route.id]:R},fetchers:new Map(_.fetchers)})}function dn(w){let O=_.fetchers.get(w);K.has(w)&&!(O&&O.state==="loading"&&E.has(w))&&at(w),W.delete(w),E.delete(w),T.delete(w),_.fetchers.delete(w)}function at(w){let O=K.get(w);F(O,"Expected fetch controller: "+w),O.abort(),K.delete(w)}function Pi(w){for(let O of w){let R=Qe(O),k=kr(R.data);_.fetchers.set(O,k)}}function Ei(){let w=[],O=!1;for(let R of T){let k=_.fetchers.get(R);F(k,"Expected fetcher: "+R),k.state==="loading"&&(T.delete(R),w.push(R),O=!0)}return Pi(w),O}function Ci(w){let O=[];for(let[R,k]of E)if(k<w){let B=_.fetchers.get(R);F(B,"Expected fetcher: "+R),B.state==="loading"&&(at(R),E.delete(R),O.push(R))}return Pi(O),O.length>0}function Ou(w,O){let R=_.blockers.get(w)||Bt;return $.get(w)!==O&&$.set(w,O),R}function xi(w){_.blockers.delete(w),$.delete(w)}function vr(w,O){let R=_.blockers.get(w)||Bt;F(R.state==="unblocked"&&O.state==="blocked"||R.state==="blocked"&&O.state==="blocked"||R.state==="blocked"&&O.state==="proceeding"||R.state==="blocked"&&O.state==="unblocked"||R.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+O.state);let k=new Map(_.blockers);k.set(w,O),ie({blockers:k})}function Li(w){let{currentLocation:O,nextLocation:R,historyAction:k}=w;if($.size===0)return;$.size>1&&At(!1,"A router only supports one blocker at a time");let B=Array.from($.entries()),[j,U]=B[B.length-1],M=_.blockers.get(j);if(!(M&&M.state==="proceeding")&&U({currentLocation:O,nextLocation:R,historyAction:k}))return j}function hn(w){let O=[];return V.forEach((R,k)=>{(!w||w(k))&&(R.cancel(),O.push(k),V.delete(k))}),O}function Ru(w,O,R){if(h=w,p=O,f=R||null,!m&&_.navigation===On){m=!0;let k=Ni(_.location,_.matches);k!=null&&ie({restoreScrollPosition:k})}return()=>{h=null,p=null,f=null}}function ki(w,O){return f&&f(w,O.map(k=>Wc(k,_.loaderData)))||w.key}function Pu(w,O){if(h&&p){let R=ki(w,O);h[R]=p()}}function Ni(w,O){if(h){let R=ki(w,O),k=h[R];if(typeof k=="number")return k}return null}function Eu(w){a={},s=$n(w,i,void 0,a)}return S={get basename(){return u},get state(){return _},get routes(){return o},initialize:me,subscribe:cn,enableScrollRestoration:Ru,navigate:it,fetch:Ft,revalidate:bt,createHref:w=>t.history.createHref(w),encodeLocation:w=>t.history.encodeLocation(w),getFetcher:Qe,deleteFetcher:dn,dispose:dt,getBlocker:Ou,deleteBlocker:xi,_internalFetchControllers:K,_internalActiveDeferreds:V,_internalSetRoutes:Eu},S}function qc(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Hn(t,e,r,n,i,a,o){let s,u;if(a!=null&&o!=="path"){s=[];for(let c of e)if(s.push(c),c.route.id===a){u=c;break}}else s=e,u=e[e.length-1];let l=pi(i||".",Zr(s).map(c=>c.pathnameBase),lt(t.pathname,r)||t.pathname,o==="path");return i==null&&(l.search=t.search,l.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!mi(l.search)&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(l.pathname=l.pathname==="/"?r:qe([r,l.pathname])),ut(l)}function va(t,e,r,n){if(!n||!qc(n))return{path:r};if(n.formMethod&&!Kc(n.formMethod))return{path:r,error:xe(405,{method:n.formMethod})};let i=()=>({path:r,error:xe(400,{type:"invalid-body"})}),a=n.formMethod||"get",o=t?a.toUpperCase():a.toLowerCase(),s=$s(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Te(o))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,p)=>{let[m,g]=p;return""+f+m+"="+g+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Te(o))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch(h){return i()}}}F(typeof FormData=="function","FormData is not available in this environment");let u,l;if(n.formData)u=Jn(n.formData),l=n.formData;else if(n.body instanceof FormData)u=Jn(n.body),l=n.body;else if(n.body instanceof URLSearchParams)u=n.body,l=ba(u);else if(n.body==null)u=new URLSearchParams,l=new FormData;else try{u=new URLSearchParams(n.body),l=ba(u)}catch(h){return i()}let c={formMethod:o,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Te(c.formMethod))return{path:r,submission:c};let d=et(r);return e&&d.search&&mi(d.search)&&u.append("index",""),d.search="?"+u,{path:ut(d),submission:c}}function Bc(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function ma(t,e,r,n,i,a,o,s,u,l,c,d,h,f){let p=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,m=t.createURL(e.location),g=t.createURL(i),v=f?Object.keys(f)[0]:void 0,S=Bc(r,v).filter((C,L)=>{if(C.route.lazy)return!0;if(C.route.loader==null)return!1;if($c(e.loaderData,e.matches[L],C)||o.some(I=>I===C.route.id))return!0;let P=e.matches[L],x=C;return ya(C,ee({currentUrl:m,currentParams:P.params,nextUrl:g,nextParams:x.params},n,{actionResult:p,defaultShouldRevalidate:a||m.pathname+m.search===g.pathname+g.search||m.search!==g.search||Bs(P,x)}))}),_=[];return u.forEach((C,L)=>{if(!r.some(K=>K.route.id===C.routeId))return;let P=Et(c,C.path,d);if(!P){_.push({key:L,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let x=e.fetchers.get(L),I=x&&x.state!=="idle"&&x.data===void 0&&!l.has(L),J=Qn(P,C.path);(s.includes(L)||I||ya(J,ee({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:r[r.length-1].params},n,{actionResult:p,defaultShouldRevalidate:a})))&&_.push({key:L,routeId:C.routeId,path:C.path,matches:P,match:J,controller:new AbortController})}),[S,_]}function $c(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function Bs(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function ya(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function _a(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];F(i,"No route found in manifest");let a={};for(let o in n){let u=i[o]!==void 0&&o!=="hasErrorBoundary";At(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!fc.has(o)&&(a[o]=n[o])}Object.assign(i,a),Object.assign(i,ee({},e(i),{lazy:void 0}))}async function $t(t,e,r,n,i,a,o,s){s===void 0&&(s={});let u,l,c,d=p=>{let m,g=new Promise((v,y)=>m=y);return c=()=>m(),e.signal.addEventListener("abort",c),Promise.race([p({request:e,params:r.params,context:s.requestContext}),g])};try{let p=r.route[t];if(r.route.lazy)if(p)l=(await Promise.all([d(p),_a(r.route,a,i)]))[0];else if(await _a(r.route,a,i),p=r.route[t],p)l=await d(p);else if(t==="action"){let m=new URL(e.url),g=m.pathname+m.search;throw xe(405,{method:e.method,pathname:g,routeId:r.route.id})}else return{type:oe.data,data:void 0};else if(p)l=await d(p);else{let m=new URL(e.url),g=m.pathname+m.search;throw xe(404,{pathname:g})}F(l!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){u=oe.error,l=p}finally{c&&e.signal.removeEventListener("abort",c)}if(zc(l)){let p=l.status;if(Mc.has(p)){let v=l.headers.get("Location");if(F(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!qs.test(v))v=Hn(new URL(e.url),n.slice(0,n.indexOf(r)+1),o,!0,v);else if(!s.isStaticRequest){let y=new URL(e.url),S=v.startsWith("//")?new URL(y.protocol+v):new URL(v),_=lt(S.pathname,o)!=null;S.origin===y.origin&&_&&(v=S.pathname+S.search+S.hash)}if(s.isStaticRequest)throw l.headers.set("Location",v),l;return{type:oe.redirect,status:p,location:v,revalidate:l.headers.get("X-Remix-Revalidate")!==null}}if(s.isRouteRequest)throw{type:u||oe.data,response:l};let m,g=l.headers.get("Content-Type");return g&&/\bapplication\/json\b/.test(g)?m=await l.json():m=await l.text(),u===oe.error?{type:u,error:new vi(p,l.statusText,m),headers:l.headers}:{type:oe.data,data:m,statusCode:l.status,headers:l.headers}}if(u===oe.error)return{type:u,error:l};if(Qc(l)){var h,f;return{type:oe.deferred,deferredData:l,statusCode:(h=l.init)==null?void 0:h.status,headers:((f=l.init)==null?void 0:f.headers)&&new Headers(l.init.headers)}}return{type:oe.data,data:l}}function Ht(t,e,r,n){let i=t.createURL($s(e)).toString(),a={signal:r};if(n&&Te(n.formMethod)){let{formMethod:o,formEncType:s}=n;a.method=o.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(n.json)):s==="text/plain"?a.body=n.text:s==="application/x-www-form-urlencoded"&&n.formData?a.body=Jn(n.formData):a.body=n.formData}return new Request(i,a)}function Jn(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function ba(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function Hc(t,e,r,n,i){let a={},o=null,s,u=!1,l={};return r.forEach((c,d)=>{let h=e[d].route.id;if(F(!Lt(c),"Cannot handle redirect results in processLoaderData"),Gt(c)){let f=Ct(t,h),p=c.error;n&&(p=Object.values(n)[0],n=void 0),o=o||{},o[f.route.id]==null&&(o[f.route.id]=p),a[h]=void 0,u||(u=!0,s=js(c.error)?c.error.status:500),c.headers&&(l[h]=c.headers)}else gt(c)?(i.set(h,c.deferredData),a[h]=c.deferredData.data):a[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!u&&(s=c.statusCode),c.headers&&(l[h]=c.headers)}),n&&(o=n,a[Object.keys(n)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:l}}function wa(t,e,r,n,i,a,o,s){let{loaderData:u,errors:l}=Hc(e,r,n,i,s);for(let c=0;c<a.length;c++){let{key:d,match:h,controller:f}=a[c];F(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(!(f&&f.signal.aborted))if(Gt(p)){let m=Ct(t.matches,h==null?void 0:h.route.id);l&&l[m.route.id]||(l=ee({},l,{[m.route.id]:p.error})),t.fetchers.delete(d)}else if(Lt(p))F(!1,"Unhandled fetcher revalidation redirect");else if(gt(p))F(!1,"Unhandled fetcher deferred data");else{let m=kr(p.data);t.fetchers.set(d,m)}}return{loaderData:u,errors:l}}function Sa(t,e,r,n){let i=ee({},e);for(let a of r){let o=a.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&a.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function Ct(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Oa(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xe(t,e){let{pathname:r,routeId:n,method:i,type:a}=e===void 0?{}:e,o="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?s="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?s="defer() is not supported in actions":a==="invalid-body"&&(s="Unable to encode submission body")):t===403?(o="Forbidden",s='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",s='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?s="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new vi(t||500,o,new Error(s),!0)}function Ra(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Lt(r))return r}}function $s(t){let e=typeof t=="string"?et(t):t;return ut(ee({},e,{hash:""}))}function Jc(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function gt(t){return t.type===oe.deferred}function Gt(t){return t.type===oe.error}function Lt(t){return(t&&t.type)===oe.redirect}function Qc(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function zc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Kc(t){return Tc.has(t.toLowerCase())}function Te(t){return Dc.has(t.toLowerCase())}async function Pa(t,e,r,n,i,a){for(let o=0;o<r.length;o++){let s=r[o],u=e[o];if(!u)continue;let l=t.find(d=>d.route.id===u.route.id),c=l!=null&&!Bs(l,u)&&(a&&a[u.route.id])!==void 0;if(gt(s)&&(i||c)){let d=n[o];F(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Hs(s,d,i).then(h=>{h&&(r[o]=h||r[o])})}}}async function Hs(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:oe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:oe.error,error:i}}return{type:oe.data,data:t.deferredData.data}}}function mi(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Wc(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function Qn(t,e){let r=typeof e=="string"?et(e).search:e.search;if(t[t.length-1].route.index&&mi(r||""))return t[t.length-1];let n=Zr(t);return n[n.length-1]}function Ea(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:a,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function wr(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Vc(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Jt(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function Gc(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function kr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qr(){return qr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qr.apply(this,arguments)}const or=ve(null),Js=ve(null),tt=ve(null),en=ve(null),ke=ve({outlet:null,matches:[],isDataRoute:!1}),Qs=ve(null);function Xc(t,e){let{relative:r}=e===void 0?{}:e;sr()||F(!1);let{basename:n,navigator:i}=Q(tt),{hash:a,pathname:o,search:s}=yi(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:qe([n,o])),i.createHref({pathname:u,search:s,hash:a})}function sr(){return Q(en)!=null}function ur(){return sr()||F(!1),Q(en).location}function zs(t){Q(tt).static||ft(t)}function Yc(){let{isDataRoute:t}=Q(ke);return t?hf():Zc()}function Zc(){sr()||F(!1);let t=Q(or),{basename:e,navigator:r}=Q(tt),{matches:n}=Q(ke),{pathname:i}=ur(),a=JSON.stringify(Zr(n).map(u=>u.pathnameBase)),o=Ye(!1);return zs(()=>{o.current=!0}),Oe(function(u,l){if(l===void 0&&(l={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let c=pi(u,JSON.parse(a),i,l.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:qe([e,c.pathname])),(l.replace?r.replace:r.push)(c,l.state,l)},[e,r,a,i,t])}const ef=ve(null);function tf(t){let e=Q(ke).outlet;return e&&q(ef.Provider,{value:t},e)}function Pp(){let{matches:t}=Q(ke),e=t[t.length-1];return e?e.params:{}}function yi(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=Q(ke),{pathname:i}=ur(),a=JSON.stringify(Zr(n).map(o=>o.pathnameBase));return Se(()=>pi(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function rf(t,e,r){sr()||F(!1);let{navigator:n}=Q(tt),{matches:i}=Q(ke),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let u=ur(),l;if(e){var c;let m=typeof e=="string"?et(e):e;s==="/"||(c=m.pathname)!=null&&c.startsWith(s)||F(!1),l=m}else l=u;let d=l.pathname||"/",h=s==="/"?d:d.slice(s.length)||"/",f=Et(t,{pathname:h}),p=uf(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:qe([s,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?s:qe([s,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r);return e&&p?q(en.Provider,{value:{location:qr({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:ae.Pop}},p):p}function nf(){let t=df(),e=js(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null;return q(ge,null,q("h2",null,"Unexpected Application Error!"),q("h3",{style:{fontStyle:"italic"}},e),r?q("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},r):null,null)}const af=q(nf,null);class of extends Le{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?q(ke.Provider,{value:this.props.routeContext},q(Qs.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sf(t){let{routeContext:e,match:r,children:n}=t,i=Q(or);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),q(ke.Provider,{value:e},n)}function uf(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let a=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let s=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));s>=0||F(!1),a=a.slice(0,Math.min(a.length,s+1))}return a.reduceRight((s,u,l)=>{let c=u.route.id?o==null?void 0:o[u.route.id]:null,d=null;r&&(d=u.route.errorElement||af);let h=e.concat(a.slice(0,l+1)),f=()=>{let p;return c?p=d:u.route.Component?p=q(u.route.Component,null):u.route.element?p=u.route.element:p=s,q(sf,{match:u,routeContext:{outlet:s,matches:h,isDataRoute:r!=null},children:p})};return r&&(u.route.ErrorBoundary||u.route.errorElement||l===0)?q(of,{location:r.location,revalidation:r.revalidation,component:d,error:c,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var zn;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(zn||(zn={}));var Be;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Be||(Be={}));function lf(t){let e=Q(or);return e||F(!1),e}function tn(t){let e=Q(Js);return e||F(!1),e}function cf(t){let e=Q(ke);return e||F(!1),e}function rn(t){let e=cf(),r=e.matches[e.matches.length-1];return r.route.id||F(!1),r.route.id}function ff(){return rn(Be.UseRouteId)}function Ep(){let{matches:t,loaderData:e}=tn(Be.UseMatches);return Se(()=>t.map(r=>{let{pathname:n,params:i}=r;return{id:r.route.id,pathname:n,params:i,data:e[r.route.id],handle:r.route.handle}}),[t,e])}function Ks(){let t=tn(Be.UseLoaderData),e=rn(Be.UseLoaderData);if(t.errors&&t.errors[e]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+e+")");return}return t.loaderData[e]}function Ws(){let t=tn(Be.UseActionData);return Q(ke)||F(!1),Object.values((t==null?void 0:t.actionData)||{})[0]}function df(){var t;let e=Q(Qs),r=tn(Be.UseRouteError),n=rn(Be.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function hf(){let{router:t}=lf(zn.UseNavigateStable),e=rn(Be.UseNavigateStable),r=Ye(!1);return zs(()=>{r.current=!0}),Oe(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qr({fromRouteId:e},a)))},[t,e])}const pf="startTransition",Ca=vs[pf];function gf(t){let{fallbackElement:e,router:r,future:n}=t,[i,a]=_e(r.state),{v7_startTransition:o}=n||{},s=Oe(d=>{o&&Ca?Ca(()=>a(d)):a(d)},[a,o]);ft(()=>r.subscribe(s),[r,s]);let u=Se(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:d=>r.navigate(d),push:(d,h,f)=>r.navigate(d,{state:h,preventScrollReset:f==null?void 0:f.preventScrollReset}),replace:(d,h,f)=>r.navigate(d,{replace:!0,state:h,preventScrollReset:f==null?void 0:f.preventScrollReset})}),[r]),l=r.basename||"/",c=Se(()=>({router:r,navigator:u,static:!1,basename:l}),[r,u,l]);return q(ge,null,q(or.Provider,{value:c},q(Js.Provider,{value:i},q(mf,{basename:l,location:i.location,navigationType:i.historyAction,navigator:u},i.initialized?q(vf,{routes:r.routes,state:i}):e))),null)}function vf(t){let{routes:e,state:r}=t;return rf(e,void 0,r)}function Cp(t){return tf(t.context)}function ue(t){F(!1)}function mf(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ae.Pop,navigator:a,static:o=!1}=t;sr()&&F(!1);let s=e.replace(/^\/*/,"/"),u=Se(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof n=="string"&&(n=et(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,p=Se(()=>{let m=lt(l,s);return m==null?null:{location:{pathname:m,search:c,hash:d,state:h,key:f},navigationType:i}},[s,l,c,d,h,f,i]);return p==null?null:q(tt.Provider,{value:u},q(en.Provider,{children:r,value:p}))}var xa;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(xa||(xa={}));new Promise(()=>{});function Kn(t,e){e===void 0&&(e=[]);let r=[];return ci.forEach(t,(n,i)=>{if(!Gr(n))return;let a=[...e,i];if(n.type===ge){r.push.apply(r,Kn(n.props.children,a));return}n.type!==ue&&F(!1),!n.props.index||!n.props.children||F(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Kn(n.props.children,a)),r.push(o)}),r}function yf(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:q(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:q(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $e(){return $e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$e.apply(this,arguments)}function Vs(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}const Nr="get",Rn="application/x-www-form-urlencoded";function nn(t){return t!=null&&typeof t.tagName=="string"}function _f(t){return nn(t)&&t.tagName.toLowerCase()==="button"}function bf(t){return nn(t)&&t.tagName.toLowerCase()==="form"}function wf(t){return nn(t)&&t.tagName.toLowerCase()==="input"}function Sf(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Of(t,e){return t.button===0&&(!e||e==="_self")&&!Sf(t)}let Sr=null;function Rf(){if(Sr===null)try{new FormData(document.createElement("form"),0),Sr=!1}catch(t){Sr=!0}return Sr}const Pf=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pn(t){return t!=null&&!Pf.has(t)?null:t}function Gs(t,e){let r,n,i,a,o;if(bf(t)){let s=t.getAttribute("action");n=s?lt(s,e):null,r=t.getAttribute("method")||Nr,i=Pn(t.getAttribute("enctype"))||Rn,a=new FormData(t)}else if(_f(t)||wf(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||s.getAttribute("action");if(n=u?lt(u,e):null,r=t.getAttribute("formmethod")||s.getAttribute("method")||Nr,i=Pn(t.getAttribute("formenctype"))||Pn(s.getAttribute("enctype"))||Rn,a=new FormData(s,t),!Rf()){let{name:l,type:c,value:d}=t;if(c==="image"){let h=l?l+".":"";a.append(h+"x","0"),a.append(h+"y","0")}else l&&a.append(l,d)}}else{if(nn(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Nr,n=null,i=Rn,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}const Ef=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Cf=["reloadDocument","replace","method","action","onSubmit","submit","relative","preventScrollReset"];function xf(t,e){return Uc({basename:e==null?void 0:e.basename,future:$e({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:uc({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Lf(),routes:t,mapRouteProperties:yf}).initialize()}function Lf(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=$e({},e,{errors:kf(e.errors)})),e}function kf(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new vi(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",r[n]=a}else r[n]=i;return r}const Nf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Df=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xp=Mt(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:u,to:l,preventScrollReset:c}=e,d=Vs(e,Ef),{basename:h}=Q(tt),f,p=!1;if(typeof l=="string"&&Df.test(l)&&(f=l,Nf))try{let y=new URL(window.location.href),S=l.startsWith("//")?new URL(y.protocol+l):new URL(l),_=lt(S.pathname,h);S.origin===y.origin&&_!=null?l=_+S.search+S.hash:p=!0}catch(y){}let m=Xc(l,{relative:i}),g=Af(l,{replace:o,state:s,target:u,preventScrollReset:c,relative:i});function v(y){n&&n(y),y.defaultPrevented||g(y)}return q("a",$e({},d,{href:f||m,onClick:p||a?n:v,ref:r,target:u}))}),Lp=Mt((t,e)=>{let r=Tf();return q(Xs,$e({},t,{submit:r,ref:e}))}),Xs=Mt((t,e)=>{let{reloadDocument:r,replace:n,method:i=Nr,action:a,onSubmit:o,submit:s,relative:u,preventScrollReset:l}=t,c=Vs(t,Cf),d=i.toLowerCase()==="get"?"get":"post",h=Mf(a,{relative:u});return q("form",$e({ref:e,method:d,action:h,onSubmit:r?o:p=>{if(o&&o(p),p.defaultPrevented)return;p.preventDefault();let m=p.nativeEvent.submitter,g=(m==null?void 0:m.getAttribute("formmethod"))||i;s(m||p.currentTarget,{method:g,replace:n,relative:u,preventScrollReset:l})}},c))});var rr;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(rr||(rr={}));var La;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(La||(La={}));function _i(t){let e=Q(or);return e||F(!1),e}function Af(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o}=e===void 0?{}:e,s=Yc(),u=ur(),l=yi(t,{relative:o});return Oe(c=>{if(Of(c,r)){c.preventDefault();let d=n!==void 0?n:ut(u)===ut(l);s(t,{replace:d,state:i,preventScrollReset:a,relative:o})}},[u,s,l,n,i,r,t,a,o])}function Ys(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}function Tf(){let{router:t}=_i(rr.UseSubmit),{basename:e}=Q(tt),r=ff();return Oe(function(n,i){i===void 0&&(i={}),Ys();let{action:a,method:o,encType:s,formData:u,body:l}=Gs(n,e);t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:l,formMethod:i.method||o,formEncType:i.encType||s,replace:i.replace,fromRouteId:r})},[t,e,r])}function Zs(t,e){let{router:r}=_i(rr.UseSubmitFetcher),{basename:n}=Q(tt);return Oe(function(i,a){a===void 0&&(a={}),Ys();let{action:o,method:s,encType:u,formData:l,body:c}=Gs(i,n);e==null&&F(!1),r.fetch(t,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||s,formEncType:a.encType||u})},[r,n,t,e])}function Mf(t,e){let{relative:r}=e===void 0?{}:e,{basename:n}=Q(tt),i=Q(ke);i||F(!1);let[a]=i.matches.slice(-1),o=$e({},yi(t||".",{relative:r})),s=ur();if(t==null&&(o.search=s.search,o.hash=s.hash,a.route.index)){let u=new URLSearchParams(o.search);u.delete("index"),o.search=u.toString()?"?"+u.toString():""}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:qe([n,o.pathname])),ut(o)}function If(t,e){return Mt((n,i)=>{let a=Zs(t,e);return q(Xs,$e({},n,{ref:i,submit:a}))})}let Ff=0;function kp(){var t;let{router:e}=_i(rr.UseFetcher),r=Q(ke);r||F(!1);let n=(t=r.matches[r.matches.length-1])==null?void 0:t.route.id;n==null&&F(!1);let[i]=_e(()=>String(++Ff)),[a]=_e(()=>(n||F(!1),If(i,n))),[o]=_e(()=>c=>{e||F(!1),n||F(!1),e.fetch(i,n,c)}),s=Zs(i,n),u=e.getFetcher(i),l=Se(()=>$e({Form:a,submit:s,load:o},u),[u,a,s,o]);return ce(()=>()=>{if(!e){console.warn("No router available to clean up from useFetcher()");return}e.deleteFetcher(i)},[e,i]),l}function Np(t,e){let{capture:r}=e||{};ce(()=>{let n=r!=null?{capture:r}:void 0;return window.addEventListener("beforeunload",t,n),()=>{window.removeEventListener("beforeunload",t,n)}},[t,r])}var Dr={},an={},lr={};(function(t){var e=te&&te.__extends||function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y])},f(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.createJSONRPCNotification=t.createJSONRPCRequest=t.createJSONRPCSuccessResponse=t.createJSONRPCErrorResponse=t.JSONRPCErrorCode=t.JSONRPCErrorException=t.isJSONRPCResponses=t.isJSONRPCResponse=t.isJSONRPCRequests=t.isJSONRPCRequest=t.isJSONRPCID=t.JSONRPC=void 0,t.JSONRPC="2.0";var r=function(f){return typeof f=="string"||typeof f=="number"||f===null};t.isJSONRPCID=r;var n=function(f){return f.jsonrpc===t.JSONRPC&&f.method!==void 0&&f.result===void 0&&f.error===void 0};t.isJSONRPCRequest=n;var i=function(f){return Array.isArray(f)&&f.every(t.isJSONRPCRequest)};t.isJSONRPCRequests=i;var a=function(f){return f.jsonrpc===t.JSONRPC&&f.id!==void 0&&(f.result!==void 0||f.error!==void 0)};t.isJSONRPCResponse=a;var o=function(f){return Array.isArray(f)&&f.every(t.isJSONRPCResponse)};t.isJSONRPCResponses=o;var s=function(f,p,m){var g={code:f,message:p};return m!=null&&(g.data=m),g},u=function(f){e(p,f);function p(m,g,v){var y=f.call(this,m)||this;return Object.setPrototypeOf(y,p.prototype),y.code=g,y.data=v,y}return p.prototype.toObject=function(){return s(this.code,this.message,this.data)},p}(Error);t.JSONRPCErrorException=u,function(f){f[f.ParseError=-32700]="ParseError",f[f.InvalidRequest=-32600]="InvalidRequest",f[f.MethodNotFound=-32601]="MethodNotFound",f[f.InvalidParams=-32602]="InvalidParams",f[f.InternalError=-32603]="InternalError"}(t.JSONRPCErrorCode||(t.JSONRPCErrorCode={}));var l=function(f,p,m,g){return{jsonrpc:t.JSONRPC,id:f,error:s(p,m,g)}};t.createJSONRPCErrorResponse=l;var c=function(f,p){return{jsonrpc:t.JSONRPC,id:f,result:p!=null?p:null}};t.createJSONRPCSuccessResponse=c;var d=function(f,p,m){return{jsonrpc:t.JSONRPC,id:f,method:p,params:m}};t.createJSONRPCRequest=d;var h=function(f,p){return{jsonrpc:t.JSONRPC,method:f,params:p}};t.createJSONRPCNotification=h})(lr);var cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.DefaultErrorCode=void 0;cr.DefaultErrorCode=0;var ka=te&&te.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(d){o(d)}}function u(c){try{l(n.throw(c))}catch(d){o(d)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},Na=te&&te.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(an,"__esModule",{value:!0});an.JSONRPCClient=void 0;var St=lr,En=cr,jf=function(){function t(e,r){this._send=e,this.createID=r,this.idToResolveMap=new Map,this.id=0}return t.prototype._createID=function(){return this.createID?this.createID():++this.id},t.prototype.timeout=function(e,r){var n=this;r===void 0&&(r=function(o){return(0,St.createJSONRPCErrorResponse)(o,En.DefaultErrorCode,"Request timeout")});var i=function(o,s){var u=setTimeout(function(){o.forEach(function(l){var c=n.idToResolveMap.get(l);c&&(n.idToResolveMap.delete(l),c(r(l)))})},e);return s().then(function(l){return clearTimeout(u),l},function(l){return clearTimeout(u),Promise.reject(l)})},a=function(o,s){var u=(Array.isArray(o)?o:[o]).map(function(l){return l.id}).filter(Da);return i(u,function(){return n.requestAdvanced(o,s)})};return{request:function(o,s,u){var l=n._createID();return i([l],function(){return n.requestWithID(o,s,u,l)})},requestAdvanced:function(o,s){return a(o,s)}}},t.prototype.request=function(e,r,n){return this.requestWithID(e,r,n,this._createID())},t.prototype.requestWithID=function(e,r,n,i){return ka(this,void 0,void 0,function(){var a,o;return Na(this,function(s){switch(s.label){case 0:return a=(0,St.createJSONRPCRequest)(i,e,r),[4,this.requestAdvanced(a,n)];case 1:return o=s.sent(),o.result!==void 0&&!o.error?[2,o.result]:o.result===void 0&&o.error?[2,Promise.reject(new St.JSONRPCErrorException(o.error.message,o.error.code,o.error.data))]:[2,Promise.reject(new Error("An unexpected error occurred"))]}})})},t.prototype.requestAdvanced=function(e,r){var n=this,i=Array.isArray(e);Array.isArray(e)||(e=[e]);var a=e.filter(function(u){return Da(u.id)}),o=a.map(function(u){return new Promise(function(l){return n.idToResolveMap.set(u.id,l)})}),s=Promise.all(o).then(function(u){return i||!u.length?u:u[0]});return this.send(i?e:e[0],r).then(function(){return s},function(u){return a.forEach(function(l){n.receive((0,St.createJSONRPCErrorResponse)(l.id,En.DefaultErrorCode,u&&u.message||"Failed to send a request"))}),s})},t.prototype.notify=function(e,r,n){var i=(0,St.createJSONRPCNotification)(e,r);this.send(i,n).then(void 0,function(){})},t.prototype.send=function(e,r){return ka(this,void 0,void 0,function(){return Na(this,function(n){return[2,this._send(e,r)]})})},t.prototype.rejectAllPendingRequests=function(e){this.idToResolveMap.forEach(function(r,n){return r((0,St.createJSONRPCErrorResponse)(n,En.DefaultErrorCode,e))}),this.idToResolveMap.clear()},t.prototype.receive=function(e){var r=this;Array.isArray(e)||(e=[e]),e.forEach(function(n){var i=r.idToResolveMap.get(n.id);i&&(r.idToResolveMap.delete(n.id),i(n))})},t}();an.JSONRPCClient=jf;var Da=function(t){return t!=null},eu={};Object.defineProperty(eu,"__esModule",{value:!0});var on={},Br=te&&te.__assign||function(){return Br=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Br.apply(this,arguments)},Aa=te&&te.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(d){o(d)}}function u(c){try{l(n.throw(c))}catch(d){o(d)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},Ta=te&&te.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},Uf=te&&te.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(on,"__esModule",{value:!0});on.JSONRPCServer=void 0;var be=lr,qf=cr,Bf=function(){return(0,be.createJSONRPCErrorResponse)(null,be.JSONRPCErrorCode.ParseError,"Parse error")},$f=function(t){return(0,be.createJSONRPCErrorResponse)((0,be.isJSONRPCID)(t.id)?t.id:null,be.JSONRPCErrorCode.InvalidRequest,"Invalid Request")},Hf=function(t){return(0,be.createJSONRPCErrorResponse)(t,be.JSONRPCErrorCode.MethodNotFound,"Method not found")},Jf=function(){function t(e){e===void 0&&(e={});var r;this.mapErrorToJSONRPCErrorResponse=Wf,this.nameToMethodDictionary={},this.middleware=null,this.errorListener=(r=e.errorListener)!==null&&r!==void 0?r:console.warn}return t.prototype.hasMethod=function(e){return!!this.nameToMethodDictionary[e]},t.prototype.addMethod=function(e,r){this.addMethodAdvanced(e,this.toJSONRPCMethod(r))},t.prototype.toJSONRPCMethod=function(e){return function(r,n){var i=e(r.params,n);return Promise.resolve(i).then(function(a){return Kf(r.id,a)})}},t.prototype.addMethodAdvanced=function(e,r){var n;this.nameToMethodDictionary=Br(Br({},this.nameToMethodDictionary),(n={},n[e]=r,n))},t.prototype.receiveJSON=function(e,r){var n=this.tryParseRequestJSON(e);return n?this.receive(n,r):Promise.resolve(Bf())},t.prototype.tryParseRequestJSON=function(e){try{return JSON.parse(e)}catch(r){return null}},t.prototype.receive=function(e,r){return Array.isArray(e)?this.receiveMultiple(e,r):this.receiveSingle(e,r)},t.prototype.receiveMultiple=function(e,r){return Aa(this,void 0,void 0,function(){var n,i=this;return Ta(this,function(a){switch(a.label){case 0:return[4,Promise.all(e.map(function(o){return i.receiveSingle(o,r)}))];case 1:return n=a.sent().filter(Qf),n.length===1?[2,n[0]]:n.length?[2,n]:[2,null]}})})},t.prototype.receiveSingle=function(e,r){return Aa(this,void 0,void 0,function(){var n,i;return Ta(this,function(a){switch(a.label){case 0:return n=this.nameToMethodDictionary[e.method],(0,be.isJSONRPCRequest)(e)?[3,1]:[2,$f(e)];case 1:return[4,this.callMethod(n,e,r)];case 2:return i=a.sent(),[2,Vf(e,i)]}})})},t.prototype.applyMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.middleware?this.middleware=this.combineMiddlewares(Uf([this.middleware],e,!0)):this.middleware=this.combineMiddlewares(e)},t.prototype.combineMiddlewares=function(e){return e.length?e.reduce(this.middlewareReducer):null},t.prototype.middlewareReducer=function(e,r){return function(n,i,a){return e(function(o,s){return r(n,o,s)},i,a)}},t.prototype.callMethod=function(e,r,n){var i=this,a=function(s,u){return e?e(s,u):s.id!==void 0?Promise.resolve(Hf(s.id)):Promise.resolve(null)},o=function(s){return i.errorListener('An unexpected error occurred while executing "'.concat(r.method,'" JSON-RPC method:'),s),Promise.resolve(i.mapErrorToJSONRPCErrorResponseIfNecessary(r.id,s))};try{return(this.middleware||zf)(a,r,n).then(void 0,o)}catch(s){return o(s)}},t.prototype.mapErrorToJSONRPCErrorResponseIfNecessary=function(e,r){return e!==void 0?this.mapErrorToJSONRPCErrorResponse(e,r):null},t}();on.JSONRPCServer=Jf;var Qf=function(t){return t!==null},zf=function(t,e,r){return t(e,r)},Kf=function(t,e){return t!==void 0?(0,be.createJSONRPCSuccessResponse)(t,e):null},Wf=function(t,e){var r,n=(r=e==null?void 0:e.message)!==null&&r!==void 0?r:"An unexpected error occurred",i=qf.DefaultErrorCode,a;return e instanceof be.JSONRPCErrorException&&(i=e.code,a=e.data),(0,be.createJSONRPCErrorResponse)(t,i,n,a)},Vf=function(t,e){return e||(t.id!==void 0?(0,be.createJSONRPCErrorResponse)(t.id,be.JSONRPCErrorCode.InternalError,"Internal error"):null)},sn={},Gf=te&&te.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(d){o(d)}}function u(c){try{l(n.throw(c))}catch(d){o(d)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})},Xf=te&&te.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(sn,"__esModule",{value:!0});sn.JSONRPCServerAndClient=void 0;var Or=lr,Yf=function(){function t(e,r,n){n===void 0&&(n={});var i;this.server=e,this.client=r,this.errorListener=(i=n.errorListener)!==null&&i!==void 0?i:console.warn}return t.prototype.applyServerMiddleware=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];(e=this.server).applyMiddleware.apply(e,r)},t.prototype.hasMethod=function(e){return this.server.hasMethod(e)},t.prototype.addMethod=function(e,r){this.server.addMethod(e,r)},t.prototype.addMethodAdvanced=function(e,r){this.server.addMethodAdvanced(e,r)},t.prototype.timeout=function(e){return this.client.timeout(e)},t.prototype.request=function(e,r,n){return this.client.request(e,r,n)},t.prototype.requestAdvanced=function(e,r){return this.client.requestAdvanced(e,r)},t.prototype.notify=function(e,r,n){this.client.notify(e,r,n)},t.prototype.rejectAllPendingRequests=function(e){this.client.rejectAllPendingRequests(e)},t.prototype.receiveAndSend=function(e,r,n){return Gf(this,void 0,void 0,function(){var i,a;return Xf(this,function(o){switch(o.label){case 0:return(0,Or.isJSONRPCResponse)(e)||(0,Or.isJSONRPCResponses)(e)?(this.client.receive(e),[3,4]):[3,1];case 1:return(0,Or.isJSONRPCRequest)(e)||(0,Or.isJSONRPCRequests)(e)?[4,this.server.receive(e,r)]:[3,3];case 2:return i=o.sent(),i?[2,this.client.send(i,n)]:[3,4];case 3:return a="Received an invalid JSON-RPC message",this.errorListener(a,e),[2,Promise.reject(new Error(a))];case 4:return[2]}})})},t}();sn.JSONRPCServerAndClient=Yf;(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]}),r=te&&te.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(an,t),r(eu,t),r(lr,t),r(on,t),r(sn,t)})(Dr);async function Zf(){const t=H(u=>u.backendAddress),e=H(u=>u.setSendJsonMessageRaw),r=H(u=>u.setReady),n=H(u=>u.changeLastMessageTime),i=H(u=>u.receiveHook),a=H(u=>u.addMessage),o=H(u=>u.errorAlert),s=Xr();ce(()=>{if(!t)return;const u=new WebSocket(t);u.addEventListener("open",()=>r(!0)),u.addEventListener("error",()=>r(!1));const l=new Dr.JSONRPCServerAndClient(new Dr.JSONRPCServer,new Dr.JSONRPCClient(async c=>{if(!(u.readyState==WebSocket.CLOSING||u.readyState==WebSocket.CLOSED)){for(;u.readyState==WebSocket.CONNECTING;)await Si();u.send(JSON.stringify(c))}}));u.addEventListener("message",c=>{l.receiveAndSend(JSON.parse(c.data.toString()))}),u.addEventListener("close",c=>{l.rejectAllPendingRequests(`Connection is closed (${c.reason}).`),r(!1),o("Oh No! The connection between server and client is interupted.")}),l.addMethod("message",async c=>{if(n(),c.msg=="")return;const d={req:i?await i(c):c,time:+new Date},h=d.req;h!=null&&(a(d),h.usrname=="system"&&(h.msg.includes("join")||h.msg.includes("quit")||h.msg.includes("kick"))&&s.invalidateQueries({queryKey:["user-list",h.uid]}))}),e((c,d)=>{const{uuid:h,...f}=d;console.log(c,f),c=="message"?l.notify(c,f):l.request(c,f).then(p=>{H.getState().handleFunctionList[h](p)})})},[t])}async function X(t,e={}){return await H.getState().makeRequest(t,e)}const pe={chat:{async quit(t){return await X("chat_quit",{chat:t})},async kick(t,e){return await X("chat_kick",{chat:t,user:e})},async rename(t,e){return await X("chat_rename",{chat:t,name:e})},async modifyUserPermission(t,e,r,n){return await X("chat_modify_user_permission",{chat_id:t,modified_user_id:e,name:r,value:n})},async modifyPermission(t,e,r){return await X("chat_modify_permission",{chat:t,name:e,value:r})},async join(t){return await X("chat_join",{chat:t})},async getUsers(t){return await X("chat_get_users",{chat:t})},async getAllPermission(t){return await X("chat_get_all_permission",{chat:t})},async getPermission(t){return await X("chat_get_permission",{chat:t})},async changeNickname(t,e,r){return await X("chat_change_nickname",{chat:t,user:e,name:r})},async create(t,e=null){return await X("chat_create",{name:t,parent:e})},async invite(t){return await X("chat_invite",{token:t})},async checkInvite(t){return await X("chat_check_invite",{token:t})},async getInviteLink(t){return`/chats/invite/?token=${await X("chat_generate_invite",{chat:t})}`},async list(){const t=await X("chat_list",{}),{values:e,names:r,parentChats:n}=rd(t);return{values:e,names:r,parentChats:n}},async getNickname(t,e){return await X("chat_get_nickname",{user:e,chat:t})}},session:{async join(t,e){return await X("session_join",{parent:e,name:t})}},user:{async login(t,e){return await X("login",{username:t,password:e})},async register(t,e){return await X("register",{username:t,password:e})},async isOnline(t){return await X("is_online",{users:t})},async tokenLogin(t){return await X("token_login",{token:t})}},oauth:{async request(){const{request_id:t,url:e}=await X("request_oauth",{platform:"github"});return{requestID:t,url:e}},async login(t){return await X("login_oauth",{platform:"github",request_id:t})}},file:{async upload(t){const{id:e,url:r}=await X("file_upload",{name:t.name}),{ok:n}=await fetch(r,{method:"PUT",body:t});return{ok:n,id:e,url:r}},async download(t){return await X("file_download",{id:t})}},record:{async query(t,e){return[]}},push:{async getVapidPublicKey(){return await X("push_get_vapid_public_key")},async register(t){await X("push_register",{subscription:t})}}},yt=new Xu({defaultOptions:{queries:{staleTime:5e3,cacheTime:1/0}}}),ed=t=>t.successAlert,td=t=>t.errorAlert;function Dp(){const t=H(ed),e=H(td);return{successAlert:t,errorAlert:e}}function Ap(t){let e=0,r;for(r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e);let n="#";for(r=0;r<3;r+=1){const i=e>>r*8&255;n+=`00${i.toString(16)}`.slice(-2)}return n}function Tp(t){let e=0,r;for(r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e);return e}function rd(t){const e=t.map(i=>i[0]),r=t.map(i=>i[1]),n=Object.fromEntries(t.map(([i,,a])=>[a!=null?a:-1,i]).sort(([i],[a])=>+(i>a)).reduce((i,[a,o])=>i.length?(s=>s[0]==a?i.slice(0,-1).concat([[a,s[1].concat(o)]]):i.concat([[a,[o]]]))(i.at(-1)):[[a,[o]]],[]).map(([i,a],o,s)=>i==-1?[i,a.filter(u=>!s.map(([l])=>l).includes(u))]:[i,a]).reduce((i,a)=>[...i,...a[0]==-1?a[1].map(o=>[o,[]]):[a]],[]));return{values:e,names:r,parentChats:n}}async function nd(){const{values:t,names:e,parentChats:r}=await pe.chat.list();return H.getState().changeAllChat(t,e),{values:t,names:e,parentChats:r}}const id={values:[],names:[],parentChats:{}};function Mp(){const t=H(a=>a.type==er.LOGIN_SUCCESS),{isLoading:e,data:r,isFetching:n}=As({queryKey:["chat-list"],cacheTime:1/0,placeholderData:id,queryFn:nd,enabled:t}),i=Xr();return Object.assign({isLoading:e,isFetching:n,refresh:Oe(()=>{i.invalidateQueries({queryKey:["chat-list"]})},[i])},r)}function Ip(t,e,{enabled:r=!0,initialData:n}={}){const{data:i}=As({queryKey:["get-nickname",t,e],queryFn:()=>pe.chat.getNickname(t,e),enabled:r,...n==null?{}:{initialData:n}});return i!=null?i:n}function Fp(t){ce(()=>{document.title=t?`${t} - web-vcc`:"web-vcc: vcc online"},[t])}function jp(t){ft(()=>{t()},[])}function ad(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}async function od(){if(!navigator.serviceWorker||!window.PushManager)return;await navigator.serviceWorker.register("/sw.js",{scope:"/"});const t=await navigator.serviceWorker.ready;for(;H.getState().type!=er.LOGIN_SUCCESS;)await Si();const e=await t.pushManager.getSubscription()||await(async()=>{const r=await pe.push.getVapidPublicKey(),n=ad(r);return await t.pushManager.subscribe({applicationServerKey:n,userVisibleOnly:!0})})();await pe.push.register(e.toJSON())}async function sd(){}var ud=0;function A(t,e,r,n,i,a){var o,s,u={};for(s in e)s=="ref"?o=e[s]:u[s]=e[s];var l={type:t,props:u,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ud,__source:i,__self:a};if(typeof t=="function"&&(o=t.defaultProps))for(s in o)u[s]===void 0&&(u[s]=o[s]);return N.vnode&&N.vnode(l),l}function Up({checked:t,setChecked:e,label:r}){const n=Oe(i=>{e(i.currentTarget.checked)},[e]);return A("div",{className:"form-control",children:A("label",{className:"label cursor-pointer",children:[A("span",{className:"label-text capitalize",children:r}),A("input",{type:"checkbox",className:"toggle",checked:t,onInput:n})]})})}const ld=["kick","rename","invite","modify_permission","send","create_sub_chat","create_session","banned","change_nickname"];var bi={},cd=function(e){return e.map(function(r){return r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")},tu="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",Ma=new RegExp("^"+tu+"$"),Ia="|&;()<> \\t",fd='"((\\\\"|[^"])*?)"',dd="'((\\\\'|[^'])*?)'",hd=/^#$/,Fa="'",ja='"',Cn="$",mt="",pd=4294967296;for(var Ua=0;Ua<4;Ua++)mt+=(pd*Math.random()).toString(16);var gd=new RegExp("^"+mt);function vd(t,e){for(var r=e.lastIndex,n=[],i;i=e.exec(t);)n.push(i),e.lastIndex===i.index&&(e.lastIndex+=1);return e.lastIndex=r,n}function md(t,e,r){var n=typeof t=="function"?t(r):t[r];return typeof n>"u"&&r!=""?n="":typeof n>"u"&&(n="$"),typeof n=="object"?e+mt+JSON.stringify(n)+mt:e+n}function yd(t,e,r){r||(r={});var n=r.escape||"\\",i="(\\"+n+`['"`+Ia+`]|[^\\s'"`+Ia+"])+",a=new RegExp(["("+tu+")","("+i+"|"+fd+"|"+dd+")+"].join("|"),"g"),o=vd(t,a);if(o.length===0)return[];e||(e={});var s=!1;return o.map(function(u){var l=u[0];if(!l||s)return;if(Ma.test(l))return{op:l};var c=!1,d=!1,h="",f=!1,p;function m(){p+=1;var y,S,_=l.charAt(p);if(_==="{"){if(p+=1,l.charAt(p)==="}")throw new Error("Bad substitution: "+l.slice(p-2,p+1));if(y=l.indexOf("}",p),y<0)throw new Error("Bad substitution: "+l.slice(p));S=l.slice(p,y),p=y}else if(/[*@#?$!_-]/.test(_))S=_,p+=1;else{var C=l.slice(p);y=C.match(/[^\w\d_]/),y?(S=C.slice(0,y.index),p+=y.index-1):(S=C,p=l.length)}return md(e,"",S)}for(p=0;p<l.length;p++){var g=l.charAt(p);if(f=f||!c&&(g==="*"||g==="?"),d)h+=g,d=!1;else if(c)g===c?c=!1:c==Fa?h+=g:g===n?(p+=1,g=l.charAt(p),g===ja||g===n||g===Cn?h+=g:h+=n+g):g===Cn?h+=m():h+=g;else if(g===ja||g===Fa)c=g;else{if(Ma.test(g))return{op:l};if(hd.test(g)){s=!0;var v={comment:t.slice(u.index+p+1)};return h.length?[h,v]:[v]}else g===n?d=!0:g===Cn?h+=m():h+=g}}return f?{op:"glob",pattern:h}:h}).reduce(function(u,l){return typeof l>"u"?u:u.concat(l)},[])}var _d=function(e,r,n){var i=yd(e,r,n);return typeof r!="function"?i:i.reduce(function(a,o){if(typeof o=="object")return a.concat(o);var s=o.split(RegExp("("+mt+".*?"+mt+")","g"));return s.length===1?a.concat(s[0]):a.concat(s.filter(Boolean).map(function(u){return gd.test(u)?JSON.parse(u.split(mt)[1]):u}))},[])};bi.quote=cd;bi.parse=_d;function we(t){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(t)}function bd(t,e){if(we(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(we(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ru(t){var e=bd(t,"string");return we(e)==="symbol"?e:String(e)}function Je(t,e,r){return e=ru(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wd(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var qa={};function Wn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&qa[e[0]]||(typeof e[0]=="string"&&(qa[e[0]]=new Date),wd.apply(void 0,e))}var nu=function(e,r){return function(){if(e.isInitialized)r();else{var n=function i(){setTimeout(function(){e.off("initialized",i)},0),r()};e.on("initialized",n)}}};function Ba(t,e,r){t.loadNamespaces(e,nu(t,r))}function $a(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,nu(t,n))}function Sd(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var o=function(u,l){var c=e.services.backendConnector.state["".concat(u,"|").concat(l)];return c===-1||c===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(a,t)))}function Od(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return Wn("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{lng:r.lng,precheck:function(a,o){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,t))return!1}}):Sd(t,e,r)}var Rd=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Pd={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Ed=function(e){return Pd[e]},Cd=function(e){return e.replace(Rd,Ed)};function Ha(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ha(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ha(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Vn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Cd};function xd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vn=Ja(Ja({},Vn),t)}function Ld(){return Vn}var iu;function kd(t){iu=t}function Nd(){return iu}function Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ru(n.key),n)}}function De(t,e,r){return e&&Qa(t.prototype,e),r&&Qa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var Dd={type:"3rdParty",init:function(e){xd(e.options.react),kd(e)}},Ad=ve(),Td=function(){function t(){Ne(this,t),this.usedNamespaces={}}return De(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function au(t){if(Array.isArray(t))return t}function Md(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function za(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ou(t,e){if(t){if(typeof t=="string")return za(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return za(t,e)}}function su(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Id(t,e){return au(t)||Md(t,e)||ou(t,e)||su()}function Ka(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ka(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ka(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Fd=function(e,r){var n=Ye();return ce(function(){n.current=r?n.current:e},[e,r]),n.current};function wi(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=Q(Ad)||{},i=n.i18n,a=n.defaultNS,o=r||i||Nd();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Td),!o){Wn("You will need to pass in an i18next instance by using initReactI18next");var s=function(I,J){return typeof J=="string"?J:J&&we(J)==="object"&&typeof J.defaultValue=="string"?J.defaultValue:Array.isArray(I)?I[I.length-1]:I},u=[s,{},!1];return u.t=s,u.i18n={},u.ready=!1,u}o.options.react&&o.options.react.wait!==void 0&&Wn("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=xn(xn(xn({},Ld()),o.options.react),e),c=l.useSuspense,d=l.keyPrefix,h=t||a||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var f=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(x){return Od(x,o,l)});function p(){return o.getFixedT(e.lng||null,l.nsMode==="fallback"?h:h[0],d)}var m=_e(p),g=Id(m,2),v=g[0],y=g[1],S=h.join();e.lng&&(S="".concat(e.lng).concat(S));var _=Fd(S),C=Ye(!0);ce(function(){var x=l.bindI18n,I=l.bindI18nStore;C.current=!0,!f&&!c&&(e.lng?$a(o,e.lng,h,function(){C.current&&y(p)}):Ba(o,h,function(){C.current&&y(p)})),f&&_&&_!==S&&C.current&&y(p);function J(){C.current&&y(p)}return x&&o&&o.on(x,J),I&&o&&o.store.on(I,J),function(){C.current=!1,x&&o&&x.split(" ").forEach(function(G){return o.off(G,J)}),I&&o&&I.split(" ").forEach(function(G){return o.store.off(G,J)})}},[o,S]);var L=Ye(!0);ce(function(){C.current&&!L.current&&y(p),L.current=!1},[o,d]);var P=[v,o,f];if(P.t=v,P.i18n=o,P.ready=f,f||!f&&!c)return P;throw new Promise(function(x){e.lng?$a(o,e.lng,h,function(){return x()}):Ba(o,h,function(){return x()})})}function jd(t){try{const e=new URL(t);return e.protocol=="ws:"&&location.protocol=="http:"||e.protocol=="wss:"}catch(e){return!1}}const Gn={}.VITE_DEFAULT_SERVER_ADDRESS||location.origin.replace("http","ws")+"/ws/";function qp(){const t=H(a=>a.backendAddress),e=H(a=>a.setBackendAddress),[r,n]=_e(Gn);ce(()=>{n(t!=null?t:Gn)},[t]);const{t:i}=wi();return A("div",{className:"form-control",children:A("label",{className:"input-group max-sm:input-group-vertical input-group-sm",children:[A("input",{type:"text",className:"input input-bordered input-sm",value:r,onInput:a=>{n(a.currentTarget.value)}}),A("button",{className:"btn btn-primary btn-sm",disabled:t==r||!jd(r),type:"button",onClick:()=>{e(r)},children:i("Change Server")})]})})}function uu(){const{backendAddress:t,setBackendAddress:e}=H.getState();t||e(Gn)}function Si(){return new Promise(t=>setTimeout(t,0))}async function rt(t=!0){const e=H.getState().type;if(e==er.LOGIN_SUCCESS)return new Response;if(e==er.NOT_LOGIN){if(t)throw vt("/login");return new Response}const r=H.getState().token;if(r!=null){const{success:n,username:i}=await pe.user.tokenLogin(r);if(n)H.setState({username:i}),H.getState().success();else if(H.getState().reset(),H.getState().setToken(null),t)throw vt("/login")}else if(H.getState().reset(),t)throw vt("/login");return new Response}function Ud(){return vt("/chats/empty")}function Ze(){return new Response("Bad Request",{status:400})}async function qd({request:t}){await rt();const r=new URL(t.url).searchParams.get("token");if(r==null)return vt("/");const{chat:n}=await pe.chat.checkInvite(r);if(n==null)throw Ze();return gi({chat:n,token:r})}async function Bd({params:t}){var u;await rt();const{id:e}=t,{values:r,names:n}=(u=yt.getQueryData(["chat-list"]))!=null?u:{values:[],names:[]},i=Number(e),a=Number.isNaN(i)||!r.includes(i)?null:i,{changeChat:o,changeChatName:s}=H.getState();return o(a),s(a==null?"":n[r.indexOf(a)]),a==null&&r.length?vt(`/chats/${r[0]}`):(sd(),new Response)}function $d(t){var i,a;if(!t.length||t[0]!=="/")return{type:"message"};const e=bi.parse(t.slice(1)).filter(o=>typeof o=="string"),r=(a=(i=e==null?void 0:e[0])==null?void 0:i.toLowerCase)==null?void 0:a.call(i),n={type:"error"};if(!r)return n;switch(r){case"ban":case"unban":return e.length==2?{type:"perm-set",user:e[1],name:"banned",value:r=="ban"}:n;case"op":case"deop":return e.length==2?{type:"perm-set",user:e[1],name:"modify_permission",value:r=="op"}:n;case"kick":return e.length==2?{type:"kick",user:e[1]}:n;case"perm":if(e.length>=3&&ld.includes(e[3])&&e[1]=="set"){const o=e[4].toLowerCase(),s=parseInt(o,10),u=o=="on"||o=="true"||!!s;return{type:"perm-set",user:e[2],name:e[3],value:u}}return n;default:return n}}async function Hd({params:t,request:e}){const{sendJsonMessage:r}=H.getState(),{id:n}=t,{msg:i,session:a}=Object.fromEntries(await e.formData());if(console.log({chatString:n,msg:i,session:a}),n==null||i==null||typeof i!="string")throw Ze();if(i=="")return{ok:!0};const o=parseInt(n);if(Number.isNaN(o))throw Ze();const s=$d(i);async function u(l){var d;return(d=(await yt.fetchQuery({queryKey:["user-list",o],queryFn:()=>pe.chat.getUsers(o)})).find(([,h])=>h==l))==null?void 0:d[0]}if(console.log(s),s.type=="message"||s.type=="error"){const l={uid:o,type:"message",usrname:H.getState().username,msg:i,session:a||null},c=H.getState().sendHook;if(c){const d=await c(l);d!=null&&await r("message",d)}else await r("message",l);return{ok:!0}}else if(s.type=="kick"){const l=await u(s.user);if(l==null)return{ok:!1};const c=await pe.chat.kick(o,l);return c&&yt.invalidateQueries({queryKey:["user-list",o]}),{ok:c}}else if(s.type=="perm-set"){const l=await u(s.user);return l==null?{ok:!1}:{ok:await pe.chat.modifyUserPermission(o,l,s.name,s.value)}}return{ok:!1}}function Bp(){return Ws()}async function Jd({params:t}){const{id:e}=t;return vt(`/chats/${e}/settings/info`)}async function Qd({params:t}){await rt();const{id:e}=t;if(e===void 0)throw Ze();const r=parseInt(e,10);if(Number.isNaN(r))throw Ze();const n=await yt.fetchQuery({queryKey:["get-invite-link",r],queryFn:()=>pe.chat.getInviteLink(r)});return gi({inviteLink:n})}async function zd({params:t}){await rt();const{id:e}=t;if(e===void 0)throw Ze();const r=parseInt(e,10);if(Number.isNaN(r))throw Ze();const n=await yt.fetchQuery({queryKey:["chat-public",r],queryFn:()=>pe.chat.getPermission(r)});return gi({public_:n.public})}function $p(){return Ks()}function Hp(){return Ks()}async function Kd(){return await rt(!1)}async function Wd({request:t}){uu();const{username:e,password:r}=Object.fromEntries(await t.formData());if(typeof e!="string"||typeof r!="string")throw Ze();const n=await pe.user.login(e,r);return H.getState().changeUsername(e),n}function Vd(){return Ws()}async function Gd(){return await rt(!1)}async function Xd({request:t}){uu();const{username:e,password:r}=Object.fromEntries(await t.formData());if(typeof e!="string"||typeof r!="string")throw Ze();if(!await pe.user.register(e,r))return{success:!1,token:null};const i=await pe.user.login(e,r);return i.success&&H.setState({username:e}),i}function Jp(){return Vd()}function Yd(){return rt()}function Zd(){return rt()}function eh(){return rt()}function th(){return ah(),yt.clear(),location.pathname="/login",new Response}const rh=(t,e)=>({backendAddress:null,setBackendAddress(r){t({backendAddress:r})},ready:!1,setReady(r){t({ready:r})},handleFunctionList:{},sendJsonMessageRaw:null,setSendJsonMessageRaw(r){t(()=>({sendJsonMessageRaw:r}))},async sendJsonMessage(r,n){let i;for(;!(i=e().sendJsonMessageRaw);)await Si();i(r,n)},async makeRequest(r,n){const{sendJsonMessage:i}=e(),a=URL.createObjectURL(new Blob).slice(-36);return i(r,{...n,uuid:a}),await new Promise(s=>{t(u=>({handleFunctionList:{...u.handleFunctionList,[a]:s}}))})}}),nh=5e3,ih=(t,e)=>({createAlert(r){console.trace(),t(({alerts:n})=>({alerts:n.concat(r)})),setTimeout(()=>{t(({alerts:n})=>({alerts:n.filter(i=>i!=r)}))},nh)},successAlert(r){e().createAlert({type:"success",content:r})},errorAlert(r){e().createAlert({type:"error",content:r})},alerts:[]}),H=Kl()(Gl(nc(Yl((...t)=>({...ic(...t),...oc(...t),...ac(...t),...sc(...t),...rh(...t),...ih(...t)})),{name:"zustand-store",partialize:t=>({messages:t.messages,token:t.token,pluginLinks:t.pluginLinks,markdownToHTML:t.markdownToHTML,backendAddress:t.backendAddress,lastMessageTime:t.lastMessageTime})})));function ah(){H.setState({messages:[],token:null,pluginLinks:[],markdownToHTML:{},backendAddress:null,lastMessageTime:1/0})}async function oh(t){const e=await fetch(t);if(!e.ok)throw new Error("Invalid url");const r=await e.json();if(r.type=="script")return{content:r.script,name:r.name};const n=await fetch(r.entry);if(!e.ok)throw new Error("Invalid url");return{content:await n.text(),name:r.name}}const lu=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16),cu=`default-src 'none'; worker-src blob:; script-src 'nonce-${lu}';`,sh=`(${function(){const t=[],e=[],r={},n={};self.addEventListener("message",function(g){const v=g.data,{id:y}=v;if(v.type=="message"){let{msg:S}=v;for(const _ of t){if(S==null)break;S=_(S)}self.postMessage({msg:S,id:y});return}if(v.type=="send-message"){let{msg:S}=v;for(const _ of e){if(S==null)break;S=_(S)}self.postMessage({msg:S,id:y});return}if(v.type=="command"){const{command:S,arguments:_}=v;let C=null;S in r&&(C=r[S](_)),self.postMessage({msg:C,id:y});return}if(v.type=="app"){const{name:S}=v;S in n?self.postMessage({msg:n[S](),id:y}):self.postMessage({msg:null,id:y})}}),self.URL.createObjectURL=()=>{throw new Error("createObjectURL is not allowed")};function i(g,v){if(g=="receive")t.push(v);else if(g=="send")e.push(v);else if(g.startsWith("command")){const y=/^command:(.*)$/.exec(g)[1];r[y]=v}else if(g.startsWith("app")){const y=/^app:(.*)$/.exec(g)[1];n[y]=v}else throw new Error("Invalid event")}const a=new WeakSet,o=new WeakMap,s=new WeakSet,u=Object,l=Object.freeze,c=Object.isFrozen,d=Proxy,h=Reflect.apply;function f(g){if(a.has(g)||typeof g!="function"&&typeof g!="object"||g==null)return;a.add(g);const v=u.getOwnPropertyNames(g);if(v==null){l(g);return}for(const y of v)try{g[y]=m(g[y])}catch(S){}l(g)}const p=()=>{};function m(g){if(typeof g!="object"&&typeof g!="function"||g==null)return g;const v=o.get(g);if(v!=null)return v;if(s.has(g)||c(g))return g;const y={defineProperty:()=>!1,deleteProperty:()=>!1,get:(_,C)=>m(g[C]),getOwnPropertyDescriptor(_,C){const L=Reflect.getOwnPropertyDescriptor(g,C);if(L)return L.configurable=!0,L},getPrototypeOf(){return m(Reflect.getPrototypeOf(g))},has(_,C){return Reflect.has(g,C)},isExtensible:()=>!1,ownKeys(){return Reflect.ownKeys(g)},preventExtensions:()=>!1,set:()=>!1,setPrototypeOf:()=>!1};typeof g=="function"&&Object.assign(y,{apply(_,C,L){const P=h(g,C,L);return(typeof P=="object"||typeof P=="function")&&P!=null&&f(P.__proto__),P},construct(_,C,L){const P=Reflect.construct(g,C,L);return(typeof P=="object"||typeof P=="function")&&P!=null&&f(P.__proto__),P}});const S=new d(typeof g=="function"?p:Object.create(null),y);return s.add(S),o.set(g,S),S}self.readOnly=m,self.toReadOnly=f,self.createGlobal=function(){return new Proxy({on:m(i)},{get(v,y){if(y==Symbol.unscopables)return;if(y in v)return v[y];const S=self[y];return m(typeof S=="function"?S.bind(v):self[y])},has(){return!0}})};for(const g of[Number,String,Function,Object,RegExp,Promise,Array,Symbol,BigInt])f(g),f(g.prototype);for(const g of Object.getOwnPropertyNames(self))typeof self[g]=="function"&&Object.getOwnPropertyNames(self[g]).length===2&&(self[g]=self[g].bind(self))}})();`;function Ln(){return location.protocol=="https:"?crypto.randomUUID():URL.createObjectURL(new Blob).slice(-36)}function uh(t){let e=sh;for(const r of t)try{new Function(r),e+=`
        with (createGlobal()) {
          (function () {
            "use strict";
            const { Number, String, Function, Object, RegExp, Promise, Array, Symbol, Set, Map, Date, self } = this;
            ${r}
          }).call(self)
        }
      `}catch(n){console.error(new SyntaxError("The plugin is broken, it will not be load"))}return"data:text/html;charset=utf-8,"+encodeURIComponent(`
        <!DOCTYPE html>
        <html>
          <head>
            <meta http-equiv="Content-Security-Policy" content="${cu}">
            <script nonce="${lu}">
              (function () {
                var script = atob(${JSON.stringify(btoa(e))});
                var url = URL.createObjectURL(new Blob([script]), {
                  type: "application/javascript"
                });
                var worker = new Worker(url);
                worker.onmessage = function (ev) {
                  parent.postMessage(ev.data, "*")
                };
                window.onmessage = function (ev) {
                  worker.postMessage(ev.data)
                };
              })();
            <\/script>
          </head>
          <body></body>
        </html>
      `.replace(/ +/g," ").replace(/\n/g,""))}function lh({children:t}){const e=Ye(null),r=Ye({}),n=H(c=>c.setReceiveHook),i=H(c=>c.setSendHook),a=H(c=>c.setAppHook),o=H(c=>c.pluginLinks),s=Dl({queries:o.map(c=>({queryKey:["plugin-code",c],queryFn:()=>oh(c)}))}),u=Se(()=>s.reduce((c,d)=>c&&(d.isError||d.isSuccess),!0),[s]);ce(()=>{const c=r.current;function d(h){var f,p;h.source===((f=e.current)==null?void 0:f.contentWindow)&&h.data.msg!=null&&((p=c[h.data.id])==null||p.call(c,h),delete c[h.data.id])}return window.addEventListener("message",d,!0),window.testPlugin=function(h){H.setState({pluginLinks:h})},window.testPluginScript=function(h){window.testPlugin(h.map(f=>"data:application/json;base64,"+btoa(JSON.stringify({name:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16),type:"script",script:f}))))},()=>{window.removeEventListener("message",d)}},[]);const l=Oe(()=>{n(async c=>{const d=Ln();return e.current.contentWindow.postMessage({type:"message",msg:c,id:d},"*"),await new Promise(h=>{function f(p){console.log("parent received",p.data.msg),h(p.data.msg)}r.current[d]=f})}),i(async c=>{const d=Ln();return e.current.contentWindow.postMessage({type:"send-message",msg:c,id:d},"*"),await new Promise(h=>{function f(p){h(p.data.msg)}r.current[d]=f})}),a(async c=>{const d=Ln();return e.current.contentWindow.postMessage({type:"app",name:c,id:d},"*"),await new Promise(h=>{function f(p){h(p.data.msg)}r.current[d]=f})})},[]);return A(ge,{children:[A("iframe",{sandbox:"allow-scripts",ref:e,src:uh(u?s.map(c=>c.isSuccess?c.data.content:""):[]),className:"hidden",onLoad:l,credentialless:"credentialless",csp:cu}),t]})}const ch=t=>q("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...t},q("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"})),fh=t=>q("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...t},q("path",{d:"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),dh=t=>q("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...t},q("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}));function fu(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=fu(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function hh(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=fu(t))&&(n&&(n+=" "),n+=e);return n}function ph(){const[t,e]=_e(!1),{t:r}=wi();return ce(()=>{if(!window.Notification||window.Notification.permission=="granted"||window.Notification.permission=="denied"||location.protocol!="https")return;const n=setTimeout(()=>{e(!0),setTimeout(()=>{e(!1)},1e4)},1e4);return()=>clearTimeout(n)},[]),A("div",{className:hh("toast toast-start",{hidden:!t}),children:A("div",{className:"alert alert-info mb-16",children:A("div",{children:[A("span",{children:r("Would you like to get messages via notifications?")}),A("button",{className:"btn btn-ghost",onClick:async()=>{await window.Notification.requestPermission(),e(!1)},children:r("Sure")}),A("button",{className:"btn btn-square btn-ghost z-50",onClick:()=>{e(!1)},children:A(dh,{})})]})})})}const Wa=fi(()=>Ee(()=>import("./ErrorElement-f18c6cbe.js"),[])),du=li(()=>A("div",{className:"radial-progress m-auto animate-spin",style:{"--value":60,"--size":"3rem"}})),gh=xf(Kn(A(ue,{path:"/",errorElement:A(Wa,{content:"500 Internal Server Error"}),children:[A(ue,{index:!0,loader:Ud}),A(ue,{path:"chats",children:[A(ue,{path:"invite",lazy:()=>Ee(()=>import("./Invite-761cbeee.js"),[]),loader:qd}),A(ue,{path:"create",lazy:()=>Ee(()=>import("./CreateChat-65b38da0.js"),[]),loader:Yd}),A(ue,{path:":id",lazy:()=>Ee(()=>import("./ChatRoot-058509e1.js"),[]),children:[A(ue,{index:!0,lazy:()=>Ee(()=>import("./Chat-e0fa4666.js"),[]),action:Hd,loader:Bd}),A(ue,{path:"settings",lazy:()=>Ee(()=>import("./Settings-40899cb3.js"),[]),children:[A(ue,{index:!0,loader:Jd}),A(ue,{path:"info",lazy:()=>Ee(()=>import("./SettingsInfo-b2167572.js"),[]),loader:Qd}),A(ue,{path:"actions",lazy:()=>Ee(()=>import("./SettingsActions-5bf8c5af.js"),[]),loader:zd})]})]})]}),A(ue,{path:"files/:id",lazy:()=>Ee(()=>import("./FileDownload-558a0493.js"),[]),loader:Zd}),A(ue,{path:"apps/:name",lazy:()=>Ee(()=>import("./App-3ead29b3.js"),[]),loader:eh}),A(ue,{path:"login",lazy:()=>Ee(()=>import("./Login-5f5b4330.js"),[]),loader:Kd,action:Wd}),A(ue,{path:"register",lazy:()=>Ee(()=>import("./Register-f41907e9.js"),[]),loader:Gd,action:Xd}),A(ue,{path:"*",element:A(Wa,{content:"404 Not Found"})}),A(ue,{path:"logout",loader:th})]})));function vh(){return A(gf,{router:gh,fallbackElement:A(du,{})})}function mh(){const{t}=wi(),e=H(r=>r.alerts);return A(ge,{children:e.map(({type:r,content:n})=>A("div",{className:`alert ${r==="success"?"alert-success":"alert-error"} shadow-lg absolute left-2 bottom-2 w-auto p-5 z-50`,children:A("div",{children:[r==="success"?A(ch,{}):A(fh,{}),A("span",{children:[t(r[0].toUpperCase()+r.slice(1)),": ",n]})]})},`${r} ${n}`))})}function yh(){return Zf(),null}function _h(){const t=H(e=>e.backendAddress);return A("div",{className:"flex-1 flex flex-col overflow-hidden",children:[!!t&&A(yh,{}),A(xt,{fallback:A(du,{}),children:[A(ph,{}),A(mh,{}),A(vh,{})]})]})}function st(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xn(t,e){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xn(t,e)}function un(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xn(t,e)}function fr(t,e){if(e&&(we(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return st(t)}function He(t){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},He(t)}function bh(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wh(t){return au(t)||bh(t)||ou(t)||su()}function Va(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Va(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Va(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Sh={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},Oh=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ne(this,t),this.init(e,r)}return De(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||Sh,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,Ga(Ga({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),Ue=new Oh,ct=function(){function t(){Ne(this,t),this.observers={}}return De(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(u){u.apply(void 0,i)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(u){u.apply(u,[r].concat(i))})}}}]),t}();function Qt(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function Xa(t){return t==null?"":""+t}function Rh(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function Oi(t,e,r){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var o=n(a.shift());!t[o]&&r&&(t[o]=new r),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function Ya(t,e,r){var n=Oi(t,e,Object),i=n.obj,a=n.k;i[a]=r}function Ph(t,e,r,n){var i=Oi(t,e,Object),a=i.obj,o=i.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(r)),n||a[o].push(r)}function $r(t,e){var r=Oi(t,e),n=r.obj,i=r.k;if(n)return n[i]}function Eh(t,e,r){var n=$r(t,r);return n!==void 0?n:$r(e,r)}function hu(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):hu(t[n],e[n],r):t[n]=e[n]);return t}function Ot(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ch={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function xh(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return Ch[e]}):t}var ln=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Lh=[" ",",","?","!",";"];function kh(t,e,r){e=e||"",r=r||"";var n=Lh.filter(function(s){return e.indexOf(s)<0&&r.indexOf(s)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!i.test(t);if(!a){var o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a}function Hr(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(r),u=i[s];u===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(r),u=i[s];if(u===void 0)return;if(u===null)return null;if(e.endsWith(s)){if(typeof u=="string")return u;if(s&&typeof u[s]=="string")return u[s]}var l=n.slice(a+o).join(r);return l?Hr(u,l,r):void 0}i=i[n[a]]}return i}}function Za(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Za(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Za(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nh(t){var e=Dh();return function(){var n=He(t),i;if(e){var a=He(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return fr(this,i)}}function Dh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Ah=function(t){un(r,t);var e=Nh(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Ne(this,r),i=e.call(this),ln&&ct.call(st(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return De(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,c=[i,a];o&&typeof o!="string"&&(c=c.concat(o)),o&&typeof o=="string"&&(c=c.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(c=i.split("."));var d=$r(this.data,c);return d||!l||typeof o!="string"?d:Hr(this.data&&this.data[i]&&this.data[i][a],o,u)}},{key:"addResource",value:function(i,a,o,s){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,c=[i,a];o&&(c=c.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(c=i.split("."),s=a,a=c[1]),this.addNamespaces(a),Ya(this.data,c,s),u.silent||this.emit("added",i,a,o,s)}},{key:"addResources",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in o)(typeof o[u]=="string"||Object.prototype.toString.apply(o[u])==="[object Array]")&&this.addResource(i,a,u,o[u],{silent:!0});s.silent||this.emit("added",i,a,o)}},{key:"addResourceBundle",value:function(i,a,o,s,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},c=[i,a];i.indexOf(".")>-1&&(c=i.split("."),s=o,o=a,a=c[1]),this.addNamespaces(a);var d=$r(this.data,c)||{};s?hu(d,o,u):d=Rr(Rr({},d),o),Ya(this.data,c,d),l.silent||this.emit("added",i,a,o)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Rr(Rr({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(ct),pu={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var o=this;return e.forEach(function(s){o.processors[s]&&(r=o.processors[s].process(r,n,i,a))}),r}};function eo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eo(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Th(t){var e=Mh();return function(){var n=He(t),i;if(e){var a=He(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return fr(this,i)}}function Mh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var to={},ro=function(t){un(r,t);var e=Th(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ne(this,r),i=e.call(this),ln&&ct.call(st(i)),Rh(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,st(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Ue.create("translator"),i}return De(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ns||this.options.defaultNS||[],l=o&&i.indexOf(o)>-1,c=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!kh(i,o,s);if(l&&!c){var d=i.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:i,namespaces:u};var h=i.split(o);(o!==s||o===s&&this.options.ns.indexOf(h[0])>-1)&&(u=h.shift()),i=h.join(s)}return typeof u=="string"&&(u=[u]),{key:i,namespaces:u}}},{key:"translate",value:function(i,a,o){var s=this;if(we(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),we(a)==="object"&&(a=fe({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var u=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=this.extractFromKey(i[i.length-1],a),d=c.key,h=c.namespaces,f=h[h.length-1],p=a.lng||this.language,m=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(m){var g=a.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(f).concat(g).concat(d),usedKey:d,exactUsedKey:d,usedLng:p,usedNS:f}:"".concat(f).concat(g).concat(d)}return u?{res:d,usedKey:d,exactUsedKey:d,usedLng:p,usedNS:f}:d}var v=this.resolve(i,a),y=v&&v.res,S=v&&v.usedKey||d,_=v&&v.exactUsedKey||d,C=Object.prototype.toString.apply(y),L=["[object Number]","[object Function]","[object RegExp]"],P=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,I=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(x&&y&&I&&L.indexOf(C)<0&&!(typeof P=="string"&&C==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var J=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,y,fe(fe({},a),{},{ns:h})):"key '".concat(d," (").concat(this.language,")' returned an object instead of string.");return u?(v.res=J,v):J}if(l){var G=C==="[object Array]",K=G?[]:{},Me=G?_:S;for(var b in y)if(Object.prototype.hasOwnProperty.call(y,b)){var E="".concat(Me).concat(l).concat(b);K[b]=this.translate(E,fe(fe({},a),{joinArrays:!1,ns:h})),K[b]===E&&(K[b]=y[b])}y=K}}else if(x&&typeof P=="string"&&C==="[object Array]")y=y.join(P),y&&(y=this.extendTranslation(y,i,a,o));else{var T=!1,W=!1,V=a.count!==void 0&&typeof a.count!="string",$=r.hasDefaultValue(a),Ie=V?this.pluralResolver.getSuffix(p,a.count,a):"",me=a["defaultValue".concat(Ie)]||a.defaultValue;!this.isValidLookup(y)&&$&&(T=!0,y=me),this.isValidLookup(y)||(W=!0,y=d);var dt=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,cn=dt&&W?void 0:y,ie=$&&me!==y&&this.options.updateMissing;if(W||T||ie){if(this.logger.log(ie?"updateKey":"missingKey",p,f,d,ie?me:y),l){var nt=this.resolve(d,fe(fe({},a),{},{keySeparator:!1}));nt&&nt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var it=[],bt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&bt&&bt[0])for(var Re=0;Re<bt.length;Re++)it.push(bt[Re]);else this.options.saveMissingTo==="all"?it=this.languageUtils.toResolveHierarchy(a.lng||this.language):it.push(a.lng||this.language);var dr=function(Qe,Ft,hr){var pr=$&&hr!==y?hr:cn;s.options.missingKeyHandler?s.options.missingKeyHandler(Qe,f,Ft,pr,ie,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(Qe,f,Ft,pr,ie,a),s.emit("missingKey",Qe,f,Ft,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&V?it.forEach(function(It){s.pluralResolver.getSuffixes(It,a).forEach(function(Qe){dr([It],d+Qe,a["defaultValue".concat(Qe)]||me)})}):dr(it,d,me))}y=this.extendTranslation(y,i,a,v,o),W&&y===d&&this.options.appendNamespaceToMissingKey&&(y="".concat(f,":").concat(d)),(W||T)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(f,":").concat(d):d,T?y:void 0):y=this.options.parseMissingKeyHandler(y))}return u?(v.res=y,v):y}},{key:"extendTranslation",value:function(i,a,o,s,u){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,fe(fe({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(fe(fe({},o),{interpolation:fe(fe({},this.options.interpolation),o.interpolation)}));var c=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),d;if(c){var h=i.match(this.interpolator.nestingRegexp);d=h&&h.length}var f=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(f=fe(fe({},this.options.interpolation.defaultVariables),f)),i=this.interpolator.interpolate(i,f,o.lng||this.language,o),c){var p=i.match(this.interpolator.nestingRegexp),m=p&&p.length;d<m&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var y=arguments.length,S=new Array(y),_=0;_<y;_++)S[_]=arguments[_];return u&&u[0]===S[0]&&!o.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(S[0]," in key: ").concat(a[0])),null):l.translate.apply(l,S.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var g=o.postProcess||this.options.postProcess,v=typeof g=="string"?[g]:g;return i!=null&&v&&v.length&&o.applyPostProcessor!==!1&&(i=pu.handle(v,i,a,this.options&&this.options.postProcessPassResolved?fe({i18nResolved:s},o):o,this)),i}},{key:"resolve",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,u,l,c,d;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!a.isValidLookup(s)){var f=a.extractFromKey(h,o),p=f.key;u=p;var m=f.namespaces;a.options.fallbackNS&&(m=m.concat(a.options.fallbackNS));var g=o.count!==void 0&&typeof o.count!="string",v=g&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),y=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",S=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);m.forEach(function(_){a.isValidLookup(s)||(d=_,!to["".concat(S[0],"-").concat(_)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(d)&&(to["".concat(S[0],"-").concat(_)]=!0,a.logger.warn('key "'.concat(u,'" for languages "').concat(S.join(", "),`" won't get resolved as namespace "`).concat(d,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(function(C){if(!a.isValidLookup(s)){c=C;var L=[p];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(L,p,C,_,o);else{var P;g&&(P=a.pluralResolver.getSuffix(C,o.count,o));var x="".concat(a.options.pluralSeparator,"zero");if(g&&(L.push(p+P),v&&L.push(p+x)),y){var I="".concat(p).concat(a.options.contextSeparator).concat(o.context);L.push(I),g&&(L.push(I+P),v&&L.push(I+x))}}for(var J;J=L.pop();)a.isValidLookup(s)||(l=J,s=a.getResource(C,_,J,o))}}))})}}),{res:s,usedKey:u,exactUsedKey:l,usedLng:c,usedNS:d}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,o,s):this.resourceStore.getResource(i,a,o,s)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&a===o.substring(0,a.length)&&i[o]!==void 0)return!0;return!1}}]),r}(ct);function kn(t){return t.charAt(0).toUpperCase()+t.slice(1)}var no=function(){function t(e){Ne(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ue.create("languageUtils")}return De(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=kn(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=kn(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=kn(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return i=o;i=n.options.supportedLngs.find(function(s){if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&s.indexOf(o)===0)return s})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],s=function(l){l&&(i.isSupportedCode(l)?o.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(r))):typeof r=="string"&&s(this.formatLanguageCode(r)),a.forEach(function(u){o.indexOf(u)<0&&s(i.formatLanguageCode(u))}),o}}]),t}(),Ih=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Fh={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},jh=["v1","v2","v3"],io={zero:0,one:1,two:2,few:3,many:4,other:5};function Uh(){var t={};return Ih.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:Fh[e.fc]}})}),t}var qh=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ne(this,t),this.languageUtils=e,this.options=r,this.logger=Ue.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Uh()}return De(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch(i){return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return io[o]-io[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(r,o,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),o=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!jh.includes(this.options.compatibilityJSON)}}]),t}();function ao(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ao(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ao(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oo(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Eh(t,e,r);return!a&&i&&typeof r=="string"&&(a=Hr(t,r,n),a===void 0&&(a=Hr(e,r,n))),a}var Bh=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ne(this,t),this.logger=Ue.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return De(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:xh,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Ot(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Ot(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Ot(n.nestingPrefix):n.nestingPrefixEscaped||Ot("$t("),this.nestingSuffix=n.nestingSuffix?Ot(n.nestingSuffix):n.nestingSuffixEscaped||Ot(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var o=this,s,u,l,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function d(g){return g.replace(/\$/g,"$$$$")}var h=function(v){if(v.indexOf(o.formatSeparator)<0){var y=oo(n,c,v,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(y,void 0,i,Ae(Ae(Ae({},a),n),{},{interpolationkey:v})):y}var S=v.split(o.formatSeparator),_=S.shift().trim(),C=S.join(o.formatSeparator).trim();return o.format(oo(n,c,_,o.options.keySeparator,o.options.ignoreJSONStructure),C,i,Ae(Ae(Ae({},a),n),{},{interpolationkey:_}))};this.resetRegExp();var f=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(v){return d(v)}},{regex:this.regexp,safeValue:function(v){return o.escapeValue?d(o.escape(v)):d(v)}}];return m.forEach(function(g){for(l=0;s=g.regex.exec(r);){var v=s[1].trim();if(u=h(v),u===void 0)if(typeof f=="function"){var y=f(r,s,a);u=typeof y=="string"?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))u="";else if(p){u=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(r)),u="";else typeof u!="string"&&!o.useRawValueToEscape&&(u=Xa(u));var S=g.safeValue(u);if(r=r.replace(s[0],S),p?(g.regex.lastIndex+=u.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,u;function l(f,p){var m=this.nestingOptionsSeparator;if(f.indexOf(m)<0)return f;var g=f.split(new RegExp("".concat(m,"[ ]*{"))),v="{".concat(g[1]);f=g[0],v=this.interpolate(v,u);var y=v.match(/'/g),S=v.match(/"/g);(y&&y.length%2===0&&!S||S.length%2!==0)&&(v=v.replace(/'/g,'"'));try{u=JSON.parse(v),p&&(u=Ae(Ae({},p),u))}catch(_){return this.logger.warn("failed parsing options string in nesting for key ".concat(f),_),"".concat(f).concat(m).concat(v)}return delete u.defaultValue,f}for(;o=this.nestingRegexp.exec(r);){var c=[];u=Ae({},a),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var d=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(f){return f.trim()});o[1]=h.shift(),c=h,d=!0}if(s=n(l.call(this,o[1].trim(),u),u),s&&o[0]===r&&typeof s!="string")return s;typeof s!="string"&&(s=Xa(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),s=""),d&&(s=c.reduce(function(f,p){return i.format(f,p,a.lng,Ae(Ae({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),r=r.replace(o[0],s),this.regexp.lastIndex=0}return r}}]),t}();function so(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?so(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):so(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $h(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(o){if(o){var s=o.split(":"),u=wh(s),l=u[0],c=u.slice(1),d=c.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=d),d==="false"&&(r[l.trim()]=!1),d==="true"&&(r[l.trim()]=!0),isNaN(d)||(r[l.trim()]=parseInt(d,10))}})}}return{formatName:e,formatOptions:r}}function Rt(t){var e={};return function(n,i,a){var o=i+JSON.stringify(a),s=e[o];return s||(s=t(i,a),e[o]=s),s(n)}}var Hh=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ne(this,t),this.logger=Ue.create("formatter"),this.options=e,this.formats={number:Rt(function(r,n){var i=new Intl.NumberFormat(r,Ke({},n));return function(a){return i.format(a)}}),currency:Rt(function(r,n){var i=new Intl.NumberFormat(r,Ke(Ke({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:Rt(function(r,n){var i=new Intl.DateTimeFormat(r,Ke({},n));return function(a){return i.format(a)}}),relativetime:Rt(function(r,n){var i=new Intl.RelativeTimeFormat(r,Ke({},n));return function(a){return i.format(a,n.range||"day")}}),list:Rt(function(r,n){var i=new Intl.ListFormat(r,Ke({},n));return function(a){return i.format(a)}})},this.init(e)}return De(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=Rt(n)}},{key:"format",value:function(r,n,i){var a=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n.split(this.formatSeparator),u=s.reduce(function(l,c){var d=$h(c),h=d.formatName,f=d.formatOptions;if(a.formats[h]){var p=l;try{var m=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},g=m.locale||m.lng||o.locale||o.lng||i;p=a.formats[h](l,g,Ke(Ke(Ke({},f),o),m))}catch(v){a.logger.warn(v)}return p}else a.logger.warn("there was no format function for ".concat(h));return l},r);return u}}]),t}();function uo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uo(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jh(t){var e=Qh();return function(){var n=He(t),i;if(e){var a=He(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return fr(this,i)}}function Qh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function zh(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var Kh=function(t){un(r,t);var e=Jh(r);function r(n,i,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ne(this,r),o=e.call(this),ln&&ct.call(st(o)),o.backend=n,o.store=i,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=Ue.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return De(r,[{key:"queueLoad",value:function(i,a,o,s){var u=this,l={},c={},d={},h={};return i.forEach(function(f){var p=!0;a.forEach(function(m){var g="".concat(f,"|").concat(m);!o.reload&&u.store.hasResourceBundle(f,m)?u.state[g]=2:u.state[g]<0||(u.state[g]===1?c[g]===void 0&&(c[g]=!0):(u.state[g]=1,p=!1,c[g]===void 0&&(c[g]=!0),l[g]===void 0&&(l[g]=!0),h[m]===void 0&&(h[m]=!0)))}),p||(d[f]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,a,o){var s=i.split("|"),u=s[0],l=s[1];a&&this.emit("failedLoading",u,l,a),o&&this.store.addResourceBundle(u,l,o),this.state[i]=a?-1:2;var c={};this.queue.forEach(function(d){Ph(d.loaded,[u],l),zh(d,i),a&&d.errors.push(a),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(function(h){c[h]||(c[h]={});var f=d.loaded[h];f.length&&f.forEach(function(p){c[h][p]===void 0&&(c[h][p]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(d){return!d.done})}},{key:"read",value:function(i,a,o){var s=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!i.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:o,tried:u,wait:l,callback:c});return}this.readingCalls++;var d=function(m,g){if(s.readingCalls--,s.waitingReads.length>0){var v=s.waitingReads.shift();s.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&g&&u<s.maxRetries){setTimeout(function(){s.read.call(s,i,a,o,u+1,l*2,c)},l);return}c(m,g)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var f=h(i,a);f&&typeof f.then=="function"?f.then(function(p){return d(null,p)}).catch(d):d(null,f)}catch(p){d(p)}return}return h(i,a,d)}},{key:"prepareLoading",value:function(i,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,s,u);if(!l.toLoad.length)return l.pending.length||u(),null;l.toLoad.forEach(function(c){o.loadOne(c)})}},{key:"load",value:function(i,a,o){this.prepareLoading(i,a,{},o)}},{key:"reload",value:function(i,a,o){this.prepareLoading(i,a,{reload:!0},o)}},{key:"loadOne",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=i.split("|"),u=s[0],l=s[1];this.read(u,l,"read",void 0,void 0,function(c,d){c&&a.logger.warn("".concat(o,"loading namespace ").concat(l," for language ").concat(u," failed"),c),!c&&d&&a.logger.log("".concat(o,"loaded namespace ").concat(l," for language ").concat(u),d),a.loaded(i,c,d)})}},{key:"saveMissing",value:function(i,a,o,s,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var d=lo(lo({},l),{},{isUpdate:u}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var f;h.length===5?f=h(i,a,o,s,d):f=h(i,a,o,s),f&&typeof f.then=="function"?f.then(function(p){return c(null,p)}).catch(c):c(null,f)}catch(p){c(p)}else h(i,a,o,s,c,d)}!i||!i[0]||this.store.addResource(i[0],a,o,s)}}}]),r}(ct);function co(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(we(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),we(e[2])==="object"||we(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function fo(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ho(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ho(Object(r),!0).forEach(function(n){Je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ho(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wh(t){var e=Vh();return function(){var n=He(t),i;if(e){var a=He(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return fr(this,i)}}function Vh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Pr(){}function Gh(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var Jr=function(t){un(r,t);var e=Wh(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Ne(this,r),n=e.call(this),ln&&ct.call(st(n)),n.options=fo(i),n.services={},n.logger=Ue,n.modules={external:[]},Gh(st(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),fr(n,st(n));setTimeout(function(){n.init(i,a)},0)}return n}return De(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=co();this.options=je(je(je({},s),this.options),fo(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=je(je({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function u(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?Ue.init(u(this.modules.logger),this.options):Ue.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=Hh);var c=new no(this.options);this.store=new Ah(this.options.resources,this.options);var d=this.services;d.logger=Ue,d.resourceStore=this.store,d.languageUtils=c,d.pluralResolver=new qh(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=u(l),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Bh(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Kh(u(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(v){for(var y=arguments.length,S=new Array(y>1?y-1:0),_=1;_<y;_++)S[_-1]=arguments[_];i.emit.apply(i,[v].concat(S))}),this.modules.languageDetector&&(d.languageDetector=u(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=u(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new ro(this.services,this.options),this.translator.on("*",function(v){for(var y=arguments.length,S=new Array(y>1?y-1:0),_=1;_<y;_++)S[_-1]=arguments[_];i.emit.apply(i,[v].concat(S))}),this.modules.external.forEach(function(v){v.init&&v.init(i)})}if(this.format=this.options.interpolation.format,o||(o=Pr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var f=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];f.forEach(function(v){i[v]=function(){var y;return(y=i.store)[v].apply(y,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(v){i[v]=function(){var y;return(y=i.store)[v].apply(y,arguments),i}});var m=Qt(),g=function(){var y=function(_,C){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(C),o(_,C)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return y(null,i.t.bind(i));i.changeLanguage(i.options.lng,y)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),m}},{key:"loadResources",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pr,s=o,u=typeof i=="string"?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return s();var l=[],c=function(f){if(f){var p=a.services.languageUtils.toResolveHierarchy(f);p.forEach(function(m){l.indexOf(m)<0&&l.push(m)})}};if(u)c(u);else{var d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.forEach(function(h){return c(h)})}this.options.preload&&this.options.preload.forEach(function(h){return c(h)}),this.services.backendConnector.load(l,this.options.ns,function(h){!h&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(h)})}else s(null)}},{key:"reloadResources",value:function(i,a,o){var s=Qt();return i||(i=this.languages),a||(a=this.options.ns),o||(o=Pr),this.services.backendConnector.reload(i,a,function(u){s.resolve(),o(u)}),s}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&pu.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,a){var o=this;this.isLanguageChangingTo=i;var s=Qt();this.emit("languageChanging",i);var u=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},l=function(h,f){f?(u(f),o.translator.changeLanguage(f),o.isLanguageChangingTo=void 0,o.emit("languageChanged",f),o.logger.log("languageChanged",f)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(h,function(){return o.t.apply(o,arguments)})},c=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var f=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);f&&(o.language||u(f),o.translator.language||o.translator.changeLanguage(f),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(f)),o.loadResources(f,function(p){l(p,f)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(i),s}},{key:"getFixedT",value:function(i,a,o){var s=this,u=function l(c,d){var h;if(we(d)!=="object"){for(var f=arguments.length,p=new Array(f>2?f-2:0),m=2;m<f;m++)p[m-2]=arguments[m];h=s.options.overloadTranslationOptionHandler([c,d].concat(p))}else h=je({},d);h.lng=h.lng||l.lng,h.lngs=h.lngs||l.lngs,h.ns=h.ns||l.ns,h.keyPrefix=h.keyPrefix||o||l.keyPrefix;var g=s.options.keySeparator||".",v;return h.keyPrefix&&Array.isArray(c)?v=c.map(function(y){return"".concat(h.keyPrefix).concat(g).concat(y)}):v=h.keyPrefix?"".concat(h.keyPrefix).concat(g).concat(c):c,s.t(v,h)};return typeof i=="string"?u.lng=i:u.lngs=i,u.ns=a,u.keyPrefix=o,u}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=o.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var c=function(f,p){var m=a.services.backendConnector.state["".concat(f,"|").concat(p)];return m===-1||m===2};if(o.precheck){var d=o.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,i)&&(!u||c(l,i)))}},{key:"loadNamespaces",value:function(i,a){var o=this,s=Qt();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(u){o.options.ns.indexOf(u)<0&&o.options.ns.push(u)}),this.loadResources(function(u){s.resolve(),a&&a(u)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var o=Qt();typeof i=="string"&&(i=[i]);var s=this.options.preload||[],u=i.filter(function(l){return s.indexOf(l)<0});return u.length?(this.options.preload=s.concat(u),this.loadResources(function(l){o.resolve(),a&&a(l)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new no(co());return a.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pr,s=je(je(je({},this.options),a),{isClone:!0}),u=new r(s);(a.debug!==void 0||a.prefix!==void 0)&&(u.logger=u.logger.clone(a));var l=["store","services","language"];return l.forEach(function(c){u[c]=i[c]}),u.services=je({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new ro(u.services,u.options),u.translator.on("*",function(c){for(var d=arguments.length,h=new Array(d>1?d-1:0),f=1;f<d;f++)h[f-1]=arguments[f];u.emit.apply(u,[c].concat(h))}),u.init(s,o),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(ct);Je(Jr,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Jr(t,e)});var de=Jr.createInstance();de.createInstance=Jr.createInstance;de.createInstance;de.dir;de.init;de.loadResources;de.reloadResources;de.use;de.changeLanguage;de.getFixedT;de.t;de.exists;de.setDefaultNamespace;de.hasLoadedNamespace;de.loadNamespaces;de.loadLanguages;function Yn(t){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(t)}var gu=[],Xh=gu.forEach,Yh=gu.slice;function Zn(t){return Xh.call(Yh.call(arguments,1),function(e){if(e)for(var r in e)t[r]===void 0&&(t[r]=e[r])}),t}function vu(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Yn(XMLHttpRequest))==="object"}function Zh(t){return!!t&&typeof t.then=="function"}function ep(t){return Zh(t)?t:Promise.resolve(t)}function tp(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ei={exports:{}},Er={exports:{}},po;function rp(){return po||(po=1,function(t,e){var r=typeof self<"u"?self:te,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(o){var s={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(b){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(b){return b&&DataView.prototype.isPrototypeOf(b)}if(s.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(b){return b&&l.indexOf(Object.prototype.toString.call(b))>-1};function d(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function h(b){return typeof b!="string"&&(b=String(b)),b}function f(b){var E={next:function(){var T=b.shift();return{done:T===void 0,value:T}}};return s.iterable&&(E[Symbol.iterator]=function(){return E}),E}function p(b){this.map={},b instanceof p?b.forEach(function(E,T){this.append(T,E)},this):Array.isArray(b)?b.forEach(function(E){this.append(E[0],E[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(E){this.append(E,b[E])},this)}p.prototype.append=function(b,E){b=d(b),E=h(E);var T=this.map[b];this.map[b]=T?T+", "+E:E},p.prototype.delete=function(b){delete this.map[d(b)]},p.prototype.get=function(b){return b=d(b),this.has(b)?this.map[b]:null},p.prototype.has=function(b){return this.map.hasOwnProperty(d(b))},p.prototype.set=function(b,E){this.map[d(b)]=h(E)},p.prototype.forEach=function(b,E){for(var T in this.map)this.map.hasOwnProperty(T)&&b.call(E,this.map[T],T,this)},p.prototype.keys=function(){var b=[];return this.forEach(function(E,T){b.push(T)}),f(b)},p.prototype.values=function(){var b=[];return this.forEach(function(E){b.push(E)}),f(b)},p.prototype.entries=function(){var b=[];return this.forEach(function(E,T){b.push([T,E])}),f(b)},s.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function m(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function g(b){return new Promise(function(E,T){b.onload=function(){E(b.result)},b.onerror=function(){T(b.error)}})}function v(b){var E=new FileReader,T=g(E);return E.readAsArrayBuffer(b),T}function y(b){var E=new FileReader,T=g(E);return E.readAsText(b),T}function S(b){for(var E=new Uint8Array(b),T=new Array(E.length),W=0;W<E.length;W++)T[W]=String.fromCharCode(E[W]);return T.join("")}function _(b){if(b.slice)return b.slice(0);var E=new Uint8Array(b.byteLength);return E.set(new Uint8Array(b)),E.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:s.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:s.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():s.arrayBuffer&&s.blob&&u(b)?(this._bodyArrayBuffer=_(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||c(b))?this._bodyArrayBuffer=_(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var b=m(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var b=m(this);if(b)return b;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var L=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(b){var E=b.toUpperCase();return L.indexOf(E)>-1?E:b}function x(b,E){E=E||{};var T=E.body;if(b instanceof x){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,E.headers||(this.headers=new p(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!T&&b._bodyInit!=null&&(T=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new p(E.headers)),this.method=P(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(T)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function I(b){var E=new FormData;return b.trim().split("&").forEach(function(T){if(T){var W=T.split("="),V=W.shift().replace(/\+/g," "),$=W.join("=").replace(/\+/g," ");E.append(decodeURIComponent(V),decodeURIComponent($))}}),E}function J(b){var E=new p,T=b.replace(/\r?\n[\t ]+/g," ");return T.split(/\r?\n/).forEach(function(W){var V=W.split(":"),$=V.shift().trim();if($){var Ie=V.join(":").trim();E.append($,Ie)}}),E}C.call(x.prototype);function G(b,E){E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in E?E.statusText:"OK",this.headers=new p(E.headers),this.url=E.url||"",this._initBody(b)}C.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},G.error=function(){var b=new G(null,{status:0,statusText:""});return b.type="error",b};var K=[301,302,303,307,308];G.redirect=function(b,E){if(K.indexOf(E)===-1)throw new RangeError("Invalid status code");return new G(null,{status:E,headers:{location:b}})},o.DOMException=a.DOMException;try{new o.DOMException}catch(b){o.DOMException=function(E,T){this.message=E,this.name=T;var W=Error(E);this.stack=W.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Me(b,E){return new Promise(function(T,W){var V=new x(b,E);if(V.signal&&V.signal.aborted)return W(new o.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function Ie(){$.abort()}$.onload=function(){var me={status:$.status,statusText:$.statusText,headers:J($.getAllResponseHeaders()||"")};me.url="responseURL"in $?$.responseURL:me.headers.get("X-Request-URL");var dt="response"in $?$.response:$.responseText;T(new G(dt,me))},$.onerror=function(){W(new TypeError("Network request failed"))},$.ontimeout=function(){W(new TypeError("Network request failed"))},$.onabort=function(){W(new o.DOMException("Aborted","AbortError"))},$.open(V.method,V.url,!0),V.credentials==="include"?$.withCredentials=!0:V.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&s.blob&&($.responseType="blob"),V.headers.forEach(function(me,dt){$.setRequestHeader(dt,me)}),V.signal&&(V.signal.addEventListener("abort",Ie),$.onreadystatechange=function(){$.readyState===4&&V.signal.removeEventListener("abort",Ie)}),$.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return Me.polyfill=!0,a.fetch||(a.fetch=Me,a.Headers=p,a.Request=x,a.Response=G),o.Headers=p,o.Request=x,o.Response=G,o.fetch=Me,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Er,Er.exports)),Er.exports}(function(t,e){var r;if(typeof fetch=="function"&&(typeof te<"u"&&te.fetch?r=te.fetch:typeof window<"u"&&window.fetch?r=window.fetch:r=fetch),typeof tp<"u"&&(typeof window>"u"||typeof window.document>"u")){var n=r||rp();n.default&&(n=n.default),e.default=n,t.exports=e.default}})(ei,ei.exports);var mu=ei.exports;const yu=ms(mu),go=xu({__proto__:null,default:yu},[mu]);function Qr(t){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(t)}var Ge;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Ge=global.fetch:typeof window<"u"&&window.fetch?Ge=window.fetch:Ge=fetch);var nr;vu()&&(typeof global<"u"&&global.XMLHttpRequest?nr=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(nr=window.XMLHttpRequest));var zr;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?zr=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(zr=window.ActiveXObject));!Ge&&go&&!nr&&!zr&&(Ge=yu||go);typeof Ge!="function"&&(Ge=void 0);var ti=function(e,r){if(r&&Qr(r)==="object"){var n="";for(var i in r)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(r[i]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},vo=function(e,r,n){Ge(e,r).then(function(i){if(!i.ok)return n(i.statusText||"Error",{status:i.status});i.text().then(function(a){n(null,{status:i.status,data:a})}).catch(n)}).catch(n)},mo=!1,np=function(e,r,n,i){e.queryStringParams&&(r=ti(r,e.queryStringParams));var a=Zn({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);n&&(a["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,s=Zn({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:a},mo?{}:o);try{vo(r,s,i)}catch(u){if(!o||Object.keys(o).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(o).forEach(function(l){delete s[l]}),vo(r,s,i),mo=!0}catch(l){i(l)}}},ip=function(e,r,n,i){n&&Qr(n)==="object"&&(n=ti("",n).slice(1)),e.queryStringParams&&(r=ti(r,e.queryStringParams));try{var a;nr?a=new nr:a=new zr("MSXML2.XMLHTTP.3.0"),a.open(n?"POST":"GET",r,1),e.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!e.withCredentials,n&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var s in o)a.setRequestHeader(s,o[s]);a.onreadystatechange=function(){a.readyState>3&&i(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(n)}catch(u){console&&console.log(u)}},ap=function(e,r,n,i){if(typeof n=="function"&&(i=n,n=void 0),i=i||function(){},Ge&&r.indexOf("file:")!==0)return np(e,r,n,i);if(vu()||typeof ActiveXObject=="function")return ip(e,r,n,i);i(new Error("No fetch and no xhr implementation found!"))};function ir(t){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(t)}function op(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_u(n.key),n)}}function sp(t,e,r){return e&&yo(t.prototype,e),r&&yo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function up(t,e,r){return e=_u(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _u(t){var e=lp(t,"string");return ir(e)==="symbol"?e:String(e)}function lp(t,e){if(ir(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ir(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cp=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,n,i){return up({},n,i||"")},parseLoadPayload:function(r,n){},request:ap,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},bu=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};op(this,t),this.services=e,this.options=r,this.allOptions=n,this.type="backend",this.init(e,r,n)}return sp(t,[{key:"init",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=Zn(i,this.options||{},cp()),this.allOptions=a,this.services&&this.options.reloadInterval&&setInterval(function(){return n.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(r,n,i){this._readAny(r,r,n,n,i)}},{key:"read",value:function(r,n,i){this._readAny([r],r,[n],n,i)}},{key:"_readAny",value:function(r,n,i,a,o){var s=this,u=this.options.loadPath;typeof this.options.loadPath=="function"&&(u=this.options.loadPath(r,i)),u=ep(u),u.then(function(l){if(!l)return o(null,{});var c=s.services.interpolator.interpolate(l,{lng:r.join("+"),ns:i.join("+")});s.loadUrl(c,o,n,a)})}},{key:"loadUrl",value:function(r,n,i,a){var o=this,s=typeof i=="string"?[i]:i,u=typeof a=="string"?[a]:a,l=this.options.parseLoadPayload(s,u);this.options.request(this.options,r,l,function(c,d){if(d&&(d.status>=500&&d.status<600||!d.status))return n("failed loading "+r+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return n("failed loading "+r+"; status code: "+d.status,!1);if(!d&&c&&c.message&&c.message.indexOf("Failed to fetch")>-1)return n("failed loading "+r+": "+c.message,!0);if(c)return n(c,!1);var h,f;try{typeof d.data=="string"?h=o.options.parse(d.data,i,a):h=d.data}catch(p){f="failed parsing "+r+" to json"}if(f)return n(f,!1);n(null,h)})}},{key:"create",value:function(r,n,i,a,o){var s=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var u=this.options.parsePayload(n,i,a),l=0,c=[],d=[];r.forEach(function(h){var f=s.options.addPath;typeof s.options.addPath=="function"&&(f=s.options.addPath(h,n));var p=s.services.interpolator.interpolate(f,{lng:h,ns:n});s.options.request(s.options,p,u,function(m,g){l+=1,c.push(m),d.push(g),l===r.length&&typeof o=="function"&&o(c,d)})})}}},{key:"reload",value:function(){var r=this,n=this.services,i=n.backendConnector,a=n.languageUtils,o=n.logger,s=i.language;if(!(s&&s.toLowerCase()==="cimode")){var u=[],l=function(d){var h=a.toResolveHierarchy(d);h.forEach(function(f){u.indexOf(f)<0&&u.push(f)})};l(s),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return l(c)}),u.forEach(function(c){r.allOptions.ns.forEach(function(d){i.read(c,d,"read",null,null,function(h,f){h&&o.warn("loading namespace ".concat(d," for language ").concat(c," failed"),h),!h&&f&&o.log("loaded namespace ".concat(d," for language ").concat(c),f),i.loaded("".concat(c,"|").concat(d),h,f)})})})}}}]),t}();bu.type="backend";var wu=[],fp=wu.forEach,dp=wu.slice;function hp(t){return fp.call(dp.call(arguments,1),function(e){if(e)for(var r in e)t[r]===void 0&&(t[r]=e[r])}),t}var _o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,pp=function(e,r,n){var i=n||{};i.path=i.path||"/";var a=encodeURIComponent(r),o="".concat(e,"=").concat(a);if(i.maxAge>0){var s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(s))}if(i.domain){if(!_o.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!_o.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var u=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(u){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},bo={create:function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),i&&(a.domain=i),document.cookie=pp(e,encodeURIComponent(r),a)},read:function(e){for(var r="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(r)===0)return a.substring(r.length,a.length)}return null},remove:function(e){this.create(e,"",-1)}},gp={name:"cookie",lookup:function(e){var r;if(e.lookupCookie&&typeof document<"u"){var n=bo.read(e.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupCookie&&typeof document<"u"&&bo.create(r.lookupCookie,e,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},vp={name:"querystring",lookup:function(e){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),a=i.split("&"),o=0;o<a.length;o++){var s=a[o].indexOf("=");if(s>0){var u=a[o].substring(0,s);u===e.lookupQuerystring&&(r=a[o].substring(s+1))}}}return r}},zt=null,wo=function(){if(zt!==null)return zt;try{zt=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(r){zt=!1}return zt},mp={name:"localStorage",lookup:function(e){var r;if(e.lookupLocalStorage&&wo()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupLocalStorage&&wo()&&window.localStorage.setItem(r.lookupLocalStorage,e)}},Kt=null,So=function(){if(Kt!==null)return Kt;try{Kt=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(r){Kt=!1}return Kt},yp={name:"sessionStorage",lookup:function(e){var r;if(e.lookupSessionStorage&&So()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(e,r){r.lookupSessionStorage&&So()&&window.sessionStorage.setItem(r.lookupSessionStorage,e)}},_p={name:"navigator",lookup:function(e){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},bp={name:"htmlTag",lookup:function(e){var r,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},wp={name:"path",lookup:function(e){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;r=n[e.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},Sp={name:"subdomain",lookup:function(e){var r=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};function Op(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var Su=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ne(this,t),this.type="languageDetector",this.detectors={},this.init(e,r)}return De(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=hp(n,this.options||{},Op()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(a){return a.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(gp),this.addDetector(vp),this.addDetector(mp),this.addDetector(yp),this.addDetector(_p),this.addDetector(bp),this.addDetector(wp),this.addDetector(Sp)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var i=[];return r.forEach(function(a){if(n.detectors[a]){var o=n.detectors[a].lookup(n.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),i=i.map(function(a){return n.options.convertDetectedLanguage(a)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(a){i.detectors[a]&&i.detectors[a].cacheUserLanguage(r,i.options)}))}}]),t}();Su.type="languageDetector";de.use(bu).use(Su).use(Dd).init({fallbackLng:"en",interpolation:{escapeValue:!1},supportedLngs:["zh-CN","zh-TW","en"]});od();kt(A(xl,{client:yt,children:A(lh,{children:A(_h,{})})}),document.getElementById("root"));export{Vd as $,es as A,As as B,oi as C,ld as D,dh as E,Se as F,Ap as G,ml as H,Ad as I,li as J,Ye as K,xp as L,kp as M,Ip as N,Cp as O,Tp as P,Pp as Q,Bp as R,Up as S,Oe as T,Np as U,Wo as V,Ep as W,Hp as X,$p as Y,jp as Z,Je as _,Rp as __vite_legacy_guard,wi as a,er as a0,Lp as a1,qp as a2,uu as a3,Ee as a4,Jp as a5,Fp as b,Dp as c,H as d,Ks as e,Mp as f,Yc as g,hh as h,js as i,_e as j,ge as k,ms as l,Ld as m,Gr as n,A as o,ce as p,wd as q,pe as r,we as s,Nd as t,df as u,os as v,Wn as w,Q as x,q as y,Xr as z};
